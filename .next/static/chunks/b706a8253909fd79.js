(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return l}});let l=e=>{}},24879,e=>{"use strict";e.s(["default",()=>c]);var t=e.i(43476),s=e.i(71645),l=e.i(18566),a=e.i(54156),r=e.i(79899),n=e.i(20797),i=e.i(86647),o=e.i(22459);function c(){let{user:e,loading:c}=(0,r.useUser)(),{getWallets:d,createWallet:x,deleteWallet:m,updateWallet:h}=(0,n.useWallets)(),{getTransactions:u}=(0,i.useTransactions)(),b=(0,l.useRouter)(),[j,p]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1),[v,w]=(0,s.useState)(null),[N,F]=(0,s.useState)(null),[y,k]=(0,s.useState)({}),[E,D]=(0,s.useState)([]),[A,C]=(0,s.useState)([]),[_,L]=(0,s.useState)(!0),[S,M]=(0,s.useState)(!0),[W,P]=(0,s.useState)(!1),[B,z]=(0,s.useState)(null),{data:H,isLoading:U,refetch:T}=d(null==e?void 0:e.id),{data:q,isLoading:O}=u(null==e?void 0:e.id,{limit:5}),R=(0,s.useMemo)(()=>(null==H?void 0:H.data)||[],[null==H?void 0:H.data]),V=(0,s.useMemo)(()=>(null==q?void 0:q.data)||[],[null==q?void 0:q.data]);(0,s.useEffect)(()=>{(async()=>{if(null==e?void 0:e.id){L(!0);try{let{data:t,error:s}=await o.supabase.from("goals").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(3);s?console.error("Error fetching goals:",s):D(t||[])}catch(e){console.error("Error fetching goals:",e)}finally{L(!1)}}})()},[null==e?void 0:e.id]),(0,s.useEffect)(()=>{(async()=>{if(null==e?void 0:e.id){M(!0);try{let{data:t,error:s}=await o.supabase.from("budgets").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1);s?console.error("Error fetching budgets:",s):C(t||[])}catch(e){console.error("Error fetching budgets:",e)}finally{M(!1)}}})()},[null==e?void 0:e.id]),(0,s.useEffect)(()=>{(async()=>{if(!(null==e?void 0:e.id)||0===R.length)return;let t={};for(let s of R){let{data:l,error:a}=await o.supabase.from("transactions").select("amount, transaction_type").eq("wallet_id",s.wallet_id).eq("user_id",e.id);if(a){console.error("Error fetching wallet transactions:",a),t[s.wallet_id]=s.balance;continue}let r=parseFloat(s.balance)||0;l&&l.forEach(e=>{"income"===e.transaction_type?r+=parseFloat(e.amount):r-=parseFloat(e.amount)}),t[s.wallet_id]=r}k(t)})()},[null==e?void 0:e.id,R,V]),(0,s.useEffect)(()=>{R.length>0&&!v&&w(R[0])},[R,v]);let G=async e=>{try{await x(e),p(!1),T()}catch(e){console.error("Failed to create wallet:",e)}},I=async e=>{try{await h(e.wallet_id,{wallet_name:e.wallet_name,currency:e.currency}),f(!1),F(null),T()}catch(e){console.error("Failed to update wallet:",e)}},K=async e=>{try{await m(e),T(),(null==v?void 0:v.wallet_id)===e&&w(R.find(t=>t.wallet_id!==e)||null),P(!1),z(null)}catch(e){console.error("Failed to delete wallet:",e)}},$=e=>{let{className:s="w-5 h-5"}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})},Y=e=>{let{className:s="w-5 h-5"}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})},J=e=>{let{className:s="w-4 h-4"}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})},Q=e=>{let{className:s="w-4 h-4"}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})},X=e=>{let{className:s="w-5 h-5"}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5.5M7 13l2.5 5.5m0 0L17 21"})})},Z=e=>{let{className:s="w-5 h-5"}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},ee=e=>{let{className:s="w-5 h-5"}=e;return(0,t.jsxs)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2c-4.97 0-9 4.03-9 9 0 4.97 4.03 9 9 9 4.97 0 9-4.03 9-9 0-4.97-4.03-9-9-9zm0 14.5a5.5 5.5 0 110-11 5.5 5.5 0 010 11z"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"2.5"})]})},et=e=>{let{className:s="w-5 h-5"}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},es=e=>{let{className:s="w-5 h-5"}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})},el=e=>{let{className:s="w-5 h-5"}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"})})},ea=e=>{let{className:s="w-5 h-5"}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})},er=e=>{let{wallet:s,isSelected:l,onSelect:a,index:r}=e,n=void 0!==y[s.wallet_id]?y[s.wallet_id]:s.balance;return(0,t.jsxs)("div",{onClick:a,className:"rounded-xl p-6 border-2 transition-all duration-300 cursor-pointer transform hover:scale-105 ".concat(l?"border-[#9b177e] bg-[#9b177e]/10 shadow-lg shadow-[#9b177e]/20":"border-white/10 bg-white/5 hover:border-white/20 hover:bg-black/20"),style:{animationDelay:"".concat(100*r,"ms")},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold",children:s.wallet_name}),(0,t.jsx)("div",{className:"p-2 rounded-full ".concat(l?"bg-[#9b177e]":"bg-black/20"),children:(0,t.jsx)($,{className:"w-5 h-5 text-white"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-[#FFEAD8]/70 text-sm",children:"Current Balance"}),(0,t.jsxs)("span",{className:"text-[#FFEAD8] font-bold text-lg",children:["₱",parseFloat(n).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-[#FFEAD8]/70 text-sm",children:"Currency"}),(0,t.jsx)("span",{className:"text-[#FFEAD8] font-medium",children:s.currency})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-[#FFEAD8]/70 text-sm",children:"Initial Balance"}),(0,t.jsxs)("span",{className:"text-[#FFEAD8] text-sm",children:["₱",parseFloat(s.balance).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),l&&(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-white/20",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),F(s),f(!0)},className:"flex-1 flex items-center justify-center gap-2 bg-black/20 hover:bg-white/20 text-[#FFEAD8] text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:[(0,t.jsx)(J,{className:"w-4 h-4"}),"Edit"]}),(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),z(s),P(!0)},className:"flex-1 flex items-center justify-center gap-2 bg-red-500/20 hover:bg-red-500/30 text-red-300 text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:[(0,t.jsx)(Q,{className:"w-4 h-4"}),"Delete"]})]})})]})};return c?(0,t.jsxs)("div",{className:"min-h-screen bg-[#21121e] text-white",children:[(0,t.jsx)(a.default,{}),(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"text-white",children:"Loading..."})})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-[#21121e] text-white font-sans",children:[(0,t.jsx)(a.default,{}),(0,t.jsx)("main",{className:"px-4 sm:px-8 md:px-16 lg:px-24 xl:px-40 py-10",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-4 mt-10 mb-8",children:[(0,t.jsxs)("div",{className:"flex min-w-72 flex-col gap-2",children:[(0,t.jsx)("h1",{className:"text-[#FFEAD8] text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em]",children:"My Digital Wallet"}),(0,t.jsx)("p",{className:"text-[#FFEAD8]/70 text-base font-normal leading-normal",children:"A quick overview of your budget, goals, and recent transactions."})]}),(0,t.jsx)("div",{className:"flex flex-1 gap-3 flex-wrap justify-start sm:justify-end",children:(0,t.jsxs)("button",{onClick:()=>p(!0),className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-black/20 text-[#FFEAD8] text-sm font-bold leading-normal tracking-[0.015em] gap-2 hover:bg-white/20 transition-all duration-200 hover:scale-105 active:scale-95",children:[(0,t.jsx)($,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"truncate",children:"New Wallet"})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[R.map((e,s)=>(0,t.jsx)(er,{wallet:e,isSelected:(null==v?void 0:v.wallet_id)===e.wallet_id,onSelect:()=>w(e),index:s},e.wallet_id)),(0,t.jsxs)("div",{onClick:()=>p(!0),className:"flex flex-col items-center justify-center gap-4 rounded-xl bg-white/5 p-6 border-2 border-dashed border-white/20 hover:border-[#9b177e] hover:bg-black/20 transition-all duration-300 cursor-pointer group hover:scale-105",children:[(0,t.jsx)("div",{className:"flex items-center justify-center size-16 rounded-full bg-[#9b177e]/20 group-hover:bg-[#9b177e]/30 transition-colors",children:(0,t.jsx)(e=>{let{className:s="w-5 h-5"}=e;return(0,t.jsx)("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})},{className:"w-8 h-8 text-[#9b177e] group-hover:scale-110 transition-transform"})}),(0,t.jsx)("p",{className:"text-[#FFEAD8] font-semibold text-center",children:"Add New Wallet"}),(0,t.jsx)("p",{className:"text-[#FFEAD8]/70 text-sm text-center",children:"Create a new wallet to organize your finances"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsx)(()=>{if(S)return(0,t.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10",children:[(0,t.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold",children:"Budget Summary"}),(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-40 bg-black/20 rounded"}),(0,t.jsx)("div",{className:"h-4 bg-black/20 rounded"}),(0,t.jsx)("div",{className:"h-4 bg-black/20 rounded w-3/4"})]})]});let e=A[0];return e?(0,t.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10 hover:shadow-lg hover:shadow-[#9b177e]/10 transition-all duration-300",children:[(0,t.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold leading-tight tracking-[-0.015em]",children:e.budget_name}),(0,t.jsx)("div",{className:"flex items-center justify-center my-4",children:(0,t.jsxs)("div",{className:"relative size-40",children:[(0,t.jsxs)("svg",{className:"size-full",height:"36",viewBox:"0 0 36 36",width:"36",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{className:"stroke-[#E8988A]/20",cx:"18",cy:"18",fill:"none",r:"16",strokeWidth:"3"}),(0,t.jsx)("circle",{className:"stroke-[#E8988A]",cx:"18",cy:"18",fill:"none",r:"16",strokeDasharray:"".concat(62," 100"),strokeDashoffset:38,strokeLinecap:"round",strokeWidth:"3"})]}),(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,t.jsxs)("span",{className:"text-2xl font-bold text-[#FFEAD8]",children:[62,"%"]}),(0,t.jsx)("span",{className:"text-sm text-[#FFEAD8]/70",children:"Used"})]})]})}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-[#FFEAD8]/90",children:[(0,t.jsx)("p",{children:"Budget Amount"}),(0,t.jsxs)("span",{children:["₱",parseFloat(e.amount).toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-[#FFEAD8]/90",children:[(0,t.jsx)("p",{children:"Period"}),(0,t.jsx)("span",{children:e.period})]})]}),(0,t.jsx)("button",{onClick:()=>b.push("./budget"),className:"mt-auto flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#9b177e] text-white text-sm font-bold leading-normal hover:opacity-90 transition-all duration-200 hover:scale-105",children:(0,t.jsx)("span",{className:"truncate",children:"View Budget Details"})})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10 hover:shadow-lg hover:shadow-[#9b177e]/10 transition-all duration-300",children:[(0,t.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold leading-tight tracking-[-0.015em]",children:"Budget Summary"}),(0,t.jsxs)("div",{className:"text-center py-8 text-[#FFEAD8]/50",children:[(0,t.jsx)("p",{children:"No budget set"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Create a budget to start tracking"})]}),(0,t.jsx)("button",{className:"mt-auto flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#9b177e] text-white text-sm font-bold leading-normal hover:opacity-90 transition-all duration-200 hover:scale-105",children:(0,t.jsx)("span",{className:"truncate",children:"Create Budget"})})]})},{}),(0,t.jsx)(()=>_?(0,t.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10",children:[(0,t.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold",children:"Goal Progress"}),(0,t.jsx)("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-black/20 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-2 bg-black/20 rounded"})]},e))})]}):0===E.length?(0,t.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10 hover:shadow-lg hover:shadow-[#9b177e]/10 transition-all duration-300",children:[(0,t.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold leading-tight tracking-[-0.015em]",children:"Goal Progress"}),(0,t.jsxs)("div",{className:"text-center py-8 text-[#FFEAD8]/50",children:[(0,t.jsx)("p",{children:"No goals set"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Create financial goals to track progress"})]}),(0,t.jsx)("button",{className:"mt-auto flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#9b177e] text-white text-sm font-bold leading-normal hover:opacity-90 transition-all duration-200 hover:scale-105",children:(0,t.jsx)("span",{className:"truncate",children:"Create Goal"})})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10 hover:shadow-lg hover:shadow-[#9b177e]/10 transition-all duration-300",children:[(0,t.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold leading-tight tracking-[-0.015em]",children:"Goal Progress"}),(0,t.jsx)("div",{className:"flex flex-col gap-6 py-4",children:E.map((e,s)=>{let l=Math.min(Math.round(e.current_amount/e.target_amount*100),100);return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,t.jsx)("p",{className:"text-[#FFEAD8] font-semibold",children:e.goal_name}),(0,t.jsxs)("p",{className:"text-[#FFEAD8]/70 text-sm",children:[l,"%"]})]}),(0,t.jsx)("div",{className:"w-full bg-[#E8988A]/20 rounded-full h-2.5",children:(0,t.jsx)("div",{className:"bg-[#E8988A] h-2.5 rounded-full transition-all duration-500",style:{width:"".concat(l,"%")}})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-[#FFEAD8]/70",children:[(0,t.jsxs)("span",{children:["₱",parseFloat(e.current_amount).toLocaleString()]}),(0,t.jsxs)("span",{children:["₱",parseFloat(e.target_amount).toLocaleString()]})]})]},e.goal_id)})}),(0,t.jsx)("button",{onClick:()=>b.push("./goal"),className:"mt-auto flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#9b177e] text-white text-sm font-bold leading-normal hover:opacity-90 transition-all duration-200 hover:scale-105",children:(0,t.jsx)("span",{className:"truncate",children:"View All Goals"})})]}),{}),(0,t.jsx)(e=>{let{transactions:s,loading:l}=e;return l?(0,t.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10",children:[(0,t.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold",children:"Recent Transactions"}),(0,t.jsx)("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"size-10 bg-black/20 rounded-full"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-black/20 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-black/20 rounded w-1/2"})]})]},e))})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5  p-6 border border-white/10 hover:shadow-lg hover:shadow-[#9b177e]/10 transition-all duration-300",children:[(0,t.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold leading-tight tracking-[-0.015em]",children:"Recent Transactions"}),(0,t.jsxs)("ul",{className:"flex flex-col gap-4 py-4",children:[s.slice(0,4).map((e,s)=>{var l,a;return(0,t.jsxs)("li",{className:"flex items-center justify-between gap-4 p-3 rounded-lg hover:bg-white/5 transition-all duration-200 hover:scale-105",style:{animationDelay:"".concat(100*s,"ms")},children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center size-10 rounded-full ".concat("income"===e.transaction_type?"bg-green-500/20":"bg-[#E8988A]/20"),children:(e=>{let s={groceries:X,food:Z,transport:ee,entertainment:el,utilities:ea,salary:et,default:es},l=s[null==e?void 0:e.toLowerCase()]||s.default;return(0,t.jsx)(l,{className:"w-5 h-5"})})(null==(l=e.categories)?void 0:l.category_name)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-[#FFEAD8]",children:e.description||"No description"}),(0,t.jsx)("p",{className:"text-sm text-[#FFEAD8]/70",children:(null==(a=e.categories)?void 0:a.category_name)||"Uncategorized"})]})]}),(0,t.jsxs)("p",{className:"font-semibold ".concat("income"===e.transaction_type?"text-green-400":"text-[#FFEAD8]/90"),children:["income"===e.transaction_type?"+":"-","₱",Math.abs(parseFloat(e.amount)).toLocaleString()]})]},e.transaction_id)}),0===s.length&&(0,t.jsxs)("li",{className:"text-center py-8 text-[#FFEAD8]/50",children:[(0,t.jsx)(es,{className:"w-10 h-10 mx-auto mb-2"}),(0,t.jsx)("p",{children:"No transactions yet"})]})]}),(0,t.jsx)("button",{onClick:()=>b.push("./transactions"),className:"mt-auto flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#9b177e] text-white text-sm font-bold leading-normal hover:opacity-90 transition-all duration-200 hover:scale-105",children:(0,t.jsx)("span",{className:"truncate",children:"Go to Transaction History"})})]})},{transactions:V,loading:O})]})]})}),(0,t.jsx)(e=>{let{isOpen:l,onClose:a,onSubmit:n}=e,{user:i}=(0,r.useUser)(),[o,c]=(0,s.useState)({wallet_name:"",balance:"0",currency:"PHP"}),d=e=>{let{name:t,value:s}=e.target;c(e=>({...e,[t]:s}))};return l?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"bg-[#21121e] rounded-xl w-full max-w-md border border-white/10 shadow-2xl transform transition-all duration-300 scale-95 hover:scale-100",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-[#FFEAD8] text-xl font-bold",children:"Add New Wallet"}),(0,t.jsx)("button",{onClick:a,className:"text-[#FFEAD8]/70 hover:text-[#FFEAD8] transition-colors",children:(0,t.jsx)(Y,{className:"w-5 h-5"})})]}),(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!(null==i?void 0:i.id))return void console.error("User not found");n({...o,user_id:i.id,balance:parseFloat(o.balance)}),c({wallet_name:"",balance:"0",currency:"PHP"})},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[#FFEAD8] text-sm font-medium mb-2 block",children:"Wallet Name"}),(0,t.jsx)("input",{type:"text",name:"wallet_name",value:o.wallet_name,onChange:d,placeholder:"e.g., Main Wallet, Savings",className:"w-full bg-black/20 border border-white/20 rounded-lg px-4 py-3 text-[#FFEAD8] placeholder-[#FFEAD8]/50 focus:outline-none focus:border-[#9b177e] transition-colors",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[#FFEAD8] text-sm font-medium mb-2 block",children:"Initial Balance"}),(0,t.jsx)("input",{type:"number",name:"balance",value:o.balance,onChange:d,placeholder:"₱0.00",step:"0.01",min:"0",className:"w-full bg-black/20 border border-white/20 rounded-lg px-4 py-3 text-[#FFEAD8] placeholder-[#FFEAD8]/50 focus:outline-none focus:border-[#9b177e] transition-colors",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[#FFEAD8] text-sm font-medium mb-2 block",children:"Currency"}),(0,t.jsxs)("select",{name:"currency",value:o.currency,onChange:d,className:"w-full bg-black border border-white/20 rounded-lg px-4 py-3 text-[#FFEAD8] focus:outline-none focus:border-[#9b177e] transition-colors",children:[(0,t.jsx)("option",{value:"PHP",children:"Philippine Peso (₱)"}),(0,t.jsx)("option",{value:"USD",children:"US Dollar ($)"}),(0,t.jsx)("option",{value:"EUR",children:"Euro (€)"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"flex-1 bg-black/20 hover:bg-white/20 text-[#FFEAD8] py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-[#9b177e] hover:bg-[#9b177e]/90 text-white py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"Create Wallet"})]})]})]})})}):null},{isOpen:j,onClose:()=>p(!1),onSubmit:G}),(0,t.jsx)(e=>{let{isOpen:l,onClose:a,onSubmit:r,wallet:n}=e,[i,o]=(0,s.useState)({wallet_name:"",currency:"PHP"});(0,s.useEffect)(()=>{n&&o({wallet_name:n.wallet_name,currency:n.currency})},[n]);let c=e=>{let{name:t,value:s}=e.target;o(e=>({...e,[t]:s}))};return l&&n?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"bg-[#21121e] rounded-xl w-full max-w-md border border-white/10 shadow-2xl transform transition-all duration-300 scale-95 hover:scale-100",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-[#FFEAD8] text-xl font-bold",children:"Edit Wallet"}),(0,t.jsx)("button",{onClick:a,className:"text-[#FFEAD8]/70 hover:text-[#FFEAD8] transition-colors cursor-pointer",children:(0,t.jsx)(Y,{className:"w-5 h-5"})})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r({wallet_id:n.wallet_id,...i})},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[#FFEAD8] text-sm font-medium mb-2 block",children:"Wallet Name"}),(0,t.jsx)("input",{type:"text",name:"wallet_name",value:i.wallet_name,onChange:c,placeholder:"e.g., Main Wallet, Savings",className:"w-full bg-black/20 border border-white/20 rounded-lg px-4 py-3 text-[#FFEAD8] placeholder-[#FFEAD8]/50 focus:outline-none focus:border-[#9b177e] transition-colors",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[#FFEAD8] text-sm font-medium mb-2 block",children:"Currency"}),(0,t.jsxs)("select",{name:"currency",value:i.currency,onChange:c,className:"w-full bg-black border border-white/20 rounded-lg px-4 py-3 text-[#FFEAD8] focus:outline-none focus:border-[#9b177e] transition-colors",children:[(0,t.jsx)("option",{value:"PHP",children:"Philippine Peso (₱)"}),(0,t.jsx)("option",{value:"USD",children:"US Dollar ($)"}),(0,t.jsx)("option",{value:"EUR",children:"Euro (€)"})]})]}),(0,t.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3",children:(0,t.jsxs)("p",{className:"text-blue-300 text-sm",children:[(0,t.jsx)("strong",{children:"Note:"})," Wallet balance is automatically calculated from your transactions."]})}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"flex-1 bg-black/20 hover:bg-white/20 text-[#FFEAD8] py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 bg-[#9b177e] hover:bg-[#9b177e]/90 text-white py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"Update Wallet"})]})]})]})})}):null},{isOpen:g,onClose:()=>{f(!1),F(null)},onSubmit:I,wallet:N}),(0,t.jsx)(e=>{let{isOpen:s,onClose:l,onConfirm:a,wallet:r}=e;return s&&r?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"bg-[#21121e] rounded-xl w-full max-w-md border border-white/10 shadow-2xl transform transition-all duration-300 scale-95 hover:scale-100",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-[#FFEAD8] text-xl font-bold",children:"Delete Wallet"}),(0,t.jsx)("button",{onClick:l,className:"text-[#FFEAD8]/70 hover:text-[#FFEAD8] transition-colors cursor-pointer",children:(0,t.jsx)(Y,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center",children:(0,t.jsx)(Q,{className:"w-5 h-5 text-red-400"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-[#FFEAD8] font-semibold",children:"Warning"}),(0,t.jsx)("p",{className:"text-[#FFEAD8]/70 text-sm mt-1",children:"This action cannot be undone. All wallet data will be permanently removed."})]})]})}),(0,t.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,t.jsxs)("p",{className:"text-[#FFEAD8] text-center",children:["Are you sure you want to delete"," ",(0,t.jsxs)("strong",{children:['"',r.wallet_name,'"']}),"?"]}),(0,t.jsxs)("p",{className:"text-[#FFEAD8]/70 text-sm text-center mt-2",children:["Current Balance: ₱",parseFloat(y[r.wallet_id]||r.balance).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:l,className:"flex-1 bg-black/20 hover:bg-white/20 text-[#FFEAD8] py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"No, Cancel"}),(0,t.jsx)("button",{onClick:()=>a(r.wallet_id),className:"flex-1 bg-[#9c167f] text-white py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"Yes, Delete"})]})]})]})})}):null},{isOpen:W,onClose:()=>{P(!1),z(null)},onConfirm:K,wallet:B})]})}}]);