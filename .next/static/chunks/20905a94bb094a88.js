(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},98183,(e,t,r)=>{"use strict";function n(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function s(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,s(e));else t.set(r,s(n));return t}function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,n]of t.entries())e.append(r,n)}return e}Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{assign:function(){return o},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return a}})},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{formatUrl:function(){return a},formatWithValidation:function(){return i},urlObjectKeys:function(){return o}});let n=e.r(90809)._(e.r(98183)),s=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:r}=e,a=e.protocol||"",o=e.pathname||"",i=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:r&&(u=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(n.urlQueryToSearchParams(l)));let d=e.search||l&&"?"+l||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||s.test(a))&&!1!==u?(u="//"+(u||""),o&&"/"!==o[0]&&(o="/"+o)):u||(u=""),i&&"#"!==i[0]&&(i="#"+i),d&&"?"!==d[0]&&(d="?"+d),""+a+u+(o=o.replace(/[?#]/g,encodeURIComponent))+(d=d.replace("#","%23"))+i}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function i(e){return a(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let n=e.r(71645);function s(e,t){let r=(0,n.useRef)(null),s=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=a(e,n)),t&&(s.current=a(t,n))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{DecodeError:function(){return m},MiddlewareNotFoundError:function(){return y},MissingStaticPage:function(){return x},NormalizeError:function(){return b},PageNotFoundError:function(){return g},SP:function(){return h},ST:function(){return p},WEB_VITALS:function(){return n},execOnce:function(){return s},getDisplayName:function(){return u},getLocationOrigin:function(){return i},getURL:function(){return l},isAbsoluteUrl:function(){return o},isResSent:function(){return d},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return c},stringifyError:function(){return v}});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function s(e){let t,r=!1;return function(){for(var n=arguments.length,s=Array(n),a=0;a<n;a++)s[a]=arguments[a];return r||(r=!0,t=e(...s)),t}}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>a.test(e);function i(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function l(){let{href:e}=window.location,t=i();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function d(e){return e.finished||e.headersSent}function c(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&d(r))return n;if(!n)throw Object.defineProperty(Error('"'+u(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let h="undefined"!=typeof performance,p=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class m extends Error{}class b extends Error{}class g extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class x extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class y extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function v(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return a}});let n=e.r(18967),s=e.r(52817);function a(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,s.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{default:function(){return b},useLinkStatus:function(){return x}});let n=e.r(90809),s=e.r(43476),a=n._(e.r(71645)),o=e.r(95057),i=e.r(8372),l=e.r(18581),u=e.r(18967),d=e.r(5550);e.r(33525);let c=e.r(91949),f=e.r(73668),h=e.r(99781);e.r(84508);let p=e.r(65165);function m(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function b(e){var t;let r,n,o,[b,x]=(0,a.useOptimistic)(c.IDLE_LINK_STATUS),y=(0,a.useRef)(null),{href:v,as:w,children:j,prefetch:_=null,passHref:S,replace:N,shallow:C,scroll:O,onClick:k,onMouseEnter:R,onTouchStart:A,legacyBehavior:E=!1,onNavigate:F,ref:P,unstable_dynamicOnHover:T,...z}=e;r=j,E&&("string"==typeof r||"number"==typeof r)&&(r=(0,s.jsx)("a",{children:r}));let I=a.default.useContext(i.AppRouterContext),M=!1!==_,L=!1!==_?null===(t=_)||"auto"===t?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:U,as:D}=a.default.useMemo(()=>{let e=m(v);return{href:e,as:w?m(w):e}},[v,w]);E&&(n=a.default.Children.only(r));let B=E?n&&"object"==typeof n&&n.ref:P,q=a.default.useCallback(e=>(null!==I&&(y.current=(0,c.mountLinkInstance)(e,U,I,L,M,x)),()=>{y.current&&((0,c.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,c.unmountPrefetchableInstance)(e)}),[M,U,I,L,x]),Z={ref:(0,l.useMergedRef)(q,B),onClick(e){E||"function"!=typeof k||k(e),E&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),I&&(e.defaultPrevented||function(e,t,r,n,s,o,i){let{nodeName:l}=e.currentTarget;if(!("A"===l.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,f.isLocalURL)(t)){s&&(e.preventDefault(),location.replace(t));return}if(e.preventDefault(),i){let e=!1;if(i({preventDefault:()=>{e=!0}}),e)return}a.default.startTransition(()=>{(0,h.dispatchNavigateAction)(r||t,s?"replace":"push",null==o||o,n.current)})}}(e,U,D,y,N,O,F))},onMouseEnter(e){E||"function"!=typeof R||R(e),E&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),I&&M&&(0,c.onNavigationIntent)(e.currentTarget,!0===T)},onTouchStart:function(e){E||"function"!=typeof A||A(e),E&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),I&&M&&(0,c.onNavigationIntent)(e.currentTarget,!0===T)}};return(0,u.isAbsoluteUrl)(D)?Z.href=D:E&&!S&&("a"!==n.type||"href"in n.props)||(Z.href=(0,d.addBasePath)(D)),o=E?a.default.cloneElement(n,Z):(0,s.jsx)("a",{...z,...Z,children:r}),(0,s.jsx)(g.Provider,{value:b,children:o})}let g=(0,a.createContext)(c.IDLE_LINK_STATUS),x=()=>(0,a.useContext)(g);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18566,(e,t,r)=>{t.exports=e.r(76562)},16015,(e,t,r)=>{},98547,(e,t,r)=>{var n=e.i(47167);e.r(16015);var s=e.r(71645),a=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(s),o=void 0!==n.default&&n.default.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,r=t.name,n=void 0===r?"stylesheet":r,s=t.optimizeForSpeed,a=void 0===s?o:s;u(i(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",u("boolean"==typeof a,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=a,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){u("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),u(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(u(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(u(i(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var n=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,n))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var r="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(n){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var n=this._tags[e];u(n,"old rule at index `"+e+"` not found"),n.textContent=t}return e},r.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];u(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},r.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},r.makeStyleTag=function(e,t,r){t&&u(i(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var s=document.head||document.getElementsByTagName("head")[0];return r?s.insertBefore(n,r):s.appendChild(n),n},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function u(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},c={};function f(e,t){if(!t)return"jsx-"+e;var r=String(t),n=e+r;return c[n]||(c[n]="jsx-"+d(e+"-"+r)),c[n]}function h(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var r=e+t;return c[r]||(c[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[r]}var p=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,n=void 0===r?null:r,s=t.optimizeForSpeed,a=void 0!==s&&s;this._sheet=n||new l({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),n&&"boolean"==typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),n=r.styleId,s=r.rules;if(n in this._instancesCounts){this._instancesCounts[n]+=1;return}var a=s.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[n]=a,this._instancesCounts[n]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var n=this._fromServer&&this._fromServer[r];n?(n.parentNode.removeChild(n),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],n=e[1];return a.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:n}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,n=e.id;if(r){var s=f(n,r);return{styleId:s,rules:Array.isArray(t)?t.map(function(e){return h(s,e)}):[h(s,t)]}}return{styleId:f(n),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),m=s.createContext(null);function b(){return new p}function g(){return s.useContext(m)}m.displayName="StyleSheetContext";var x=a.default.useInsertionEffect||a.default.useLayoutEffect,y="undefined"!=typeof window?b():void 0;function v(e){var t=y||g();return t&&("undefined"==typeof window?t.add(e):x(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}v.dynamic=function(e){return e.map(function(e){return f(e[0],e[1])}).join(" ")},r.StyleRegistry=function(e){var t=e.registry,r=e.children,n=s.useContext(m),o=s.useState(function(){return n||t||b()})[0];return a.default.createElement(m.Provider,{value:o},r)},r.createStyleRegistry=b,r.style=v,r.useStyleRegistry=g},37902,(e,t,r)=>{t.exports=e.r(98547).style},69012,e=>{"use strict";e.s(["useAuth",()=>u],69012);var t=e.i(71645),r=e.i(22459);async function n(e,t,n){try{let{data:s,error:a}=await r.supabase.auth.signUp({email:e,password:t,options:{data:{first_name:n.firstName,last_name:n.lastName}}});if(a)return{data:null,error:a};if(s.user){let{data:t,error:a}=await r.supabase.from("users").insert([{user_id:s.user.id,first_name:n.firstName,last_name:n.lastName,email:e}]).select();if(a)return console.warn("Profile creation had issues, but auth user created:",a),{data:{user:s.user,profileCreated:!1},error:null};return{data:{user:s.user,profile:t[0],profileCreated:!0},error:null}}return{data:s,error:null}}catch(e){return console.error("Signup error:",e),{data:null,error:e}}}async function s(){let{error:e}=await r.supabase.auth.signOut();return{error:e}}let a=new class{async signUp(e){var t,r;if(!(null==(t=e.firstName)?void 0:t.trim())||!(null==(r=e.lastName)?void 0:r.trim()))throw Error("First name and last name are required");if(e.password!==e.confirmPassword)throw Error("Passwords do not match");if(e.password.length<6)throw Error("Password must be at least 6 characters");return await n(e.email,e.password,{firstName:e.firstName,lastName:e.lastName})}async signIn(e){let{data:t,error:n}=await r.supabase.auth.signInWithPassword({email:e.email,password:e.password});return{data:t,error:n}}async signOut(){return await s()}},o=new class{async checkOnboardingStatus(e){try{let{data:t,error:n}=await r.supabase.from("users").select("is_onboarded").eq("user_id",e).single();if(n)return console.error("Error checking onboarding status:",n),{isOnboarded:!1,error:n};return{isOnboarded:(null==t?void 0:t.is_onboarded)||!1,error:null}}catch(e){return console.error("Exception checking onboarding status:",e),{isOnboarded:!1,error:e}}}async markAsOnboarded(e){try{console.log("ðŸ”§ DEBUG: Attempting to mark user as onboarded, user_id:",e);let{data:t,error:n}=await r.supabase.from("users").update({is_onboarded:!0}).eq("user_id",e).select().single();if(n)return console.error("âŒ Error marking user as onboarded:",n),{success:!1,error:n};return console.log("âœ… Successfully marked user as onboarded, data:",t),{success:!0,data:t,error:null}}catch(e){return console.error("âŒ Exception marking user as onboarded:",e),{success:!1,error:e}}}async getOnboardingProgress(e){try{let{data:t,error:n}=await r.supabase.from("users").select("is_onboarded").eq("user_id",e).single();if(n)return{isOnboarded:!1,error:n};return{isOnboarded:(null==t?void 0:t.is_onboarded)||!1,error:null}}catch(e){return{isOnboarded:!1,error:e}}}};var i=e.i(54616),l=e.i(63357);let u=()=>{let[e,n]=(0,t.useState)(!1),[s,u]=(0,t.useState)(null),[d,c]=(0,t.useState)(null),{checkOnboardingStatus:f,markAsOnboarded:h,loading:p,error:m}=(()=>{let[e,r]=(0,t.useState)(!1),[n,s]=(0,t.useState)(null),[a,i]=(0,t.useState)(null),l=(0,t.useCallback)(async e=>{if(!e)return{isOnboarded:!1,error:"No user ID provided"};r(!0),s(null);try{let t=await o.checkOnboardingStatus(e);if(t.error)return s(t.error.message),{isOnboarded:!1,error:t.error};return i(t.isOnboarded),{isOnboarded:t.isOnboarded,error:null}}catch(e){return s(e.message),{isOnboarded:!1,error:e}}finally{r(!1)}},[]);return{checkOnboardingStatus:l,markAsOnboarded:(0,t.useCallback)(async e=>{if(!e)return{success:!1,error:"No user ID provided"};r(!0),s(null);try{let t=await o.markAsOnboarded(e);if(t.error)return s(t.error.message),{success:!1,error:t.error};return i(!0),{success:!0,error:null}}catch(e){return s(e.message),{success:!1,error:e}}finally{r(!1)}},[]),clearError:(0,t.useCallback)(()=>{s(null)},[]),loading:e,error:n,onboardingStatus:a}})();return(0,i.useMutation)({mutationFn:a.signUp,onSuccess:e=>{var t;(null==(t=e.data)?void 0:t.user)&&c(e.data.user)}}),(0,i.useMutation)({mutationFn:a.signIn,onSuccess:e=>{var t;(null==(t=e.data)?void 0:t.user)&&c(e.data.user)}}),(0,i.useMutation)({mutationFn:a.signOut,onSuccess:()=>{c(null),l.queryClient.clear()}}),(0,t.useEffect)(()=>{(async()=>{try{let{data:{session:e}}=await r.supabase.auth.getSession();(null==e?void 0:e.user)&&c(e.user)}catch(e){console.error("Error checking user session:",e)}})()},[]),{signUp:async e=>{n(!0),u(null);try{var t,r,s;let n=await a.signUp(e);if(n.error)return u(n.error.message),{success:!1,error:n.error,profileCreated:!1};return(null==(t=n.data)?void 0:t.user)&&c(n.data.user),{success:!0,data:n.data,profileCreated:null!=(s=null==(r=n.data)?void 0:r.profileCreated)&&s}}catch(e){return u(e.message),{success:!1,error:e,profileCreated:!1}}finally{n(!1)}},signIn:async(e,t)=>{n(!0),u(null);try{var r;let n=await a.signIn({email:e,password:t});if(n.error)return u(n.error.message),{success:!1,error:n.error};if(null==(r=n.data)?void 0:r.user){c(n.data.user);let e=await f(n.data.user.id);return{success:!0,data:n.data,isOnboarded:e.isOnboarded}}return{success:!0,data:n.data,isOnboarded:!1}}catch(e){return u(e.message),{success:!1,error:e}}finally{n(!1)}},signOut:async()=>{n(!0);try{let e=await a.signOut();return c(null),{success:!0,error:e.error}}catch(e){return{success:!1,error:e}}finally{n(!1)}},clearError:()=>{u(null)},checkOnboardingStatus:f,markAsOnboarded:h,loading:e||p,error:s||m,user:d}}},95140,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(43476),r=e.i(37902),n=e.i(22016),s=e.i(71645),a=e.i(18566),o=e.i(69012);function i(){let[e,i]=(0,s.useState)({email:"",password:""}),[l,u]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1),{signIn:f,loading:h,error:p,clearError:m}=(0,o.useAuth)(),b=(0,a.useRouter)(),g=t=>{i({...e,[t.target.name]:t.target.value}),p&&(m(),c(!1))},x=async t=>{t.preventDefault();let r=await f(e.email,e.password);if(r.success){var n;console.log("Login successful, user:",null==(n=r.data)?void 0:n.user),r.isOnboarded?b.push("./dashboard"):b.push("./setBudget")}else c(!0)},y=()=>{c(!1),m()};return(0,t.jsxs)("div",{className:"jsx-34b04f45da2f7f3b relative flex h-auto min-h-screen w-full flex-col bg-[#171116] overflow-x-hidden",children:[(0,t.jsx)("div",{className:"jsx-34b04f45da2f7f3b absolute top-1/3 right-10 w-36 h-36 bg-[#9c1674]/10 rounded-full blur-3xl animate-pulse-slow"}),(0,t.jsx)("div",{className:"jsx-34b04f45da2f7f3b absolute bottom-1/4 left-10 w-28 h-28 bg-[#9c1674]/5 rounded-full blur-2xl animate-pulse-slow animation-delay-1500"}),(0,t.jsx)("div",{className:"jsx-34b04f45da2f7f3b absolute top-1/2 right-1/4 w-20 h-20 bg-[#9c1674]/8 rounded-full blur-xl animate-pulse-slow animation-delay-1000"}),(0,t.jsx)("div",{className:"jsx-34b04f45da2f7f3b layout-container flex h-full grow flex-col z-10",children:(0,t.jsx)("div",{className:"jsx-34b04f45da2f7f3b px-10 flex flex-1 justify-center align-center py-50",children:(0,t.jsxs)("div",{className:"jsx-34b04f45da2f7f3b layout-content-container flex flex-col w-lg py-5 max-w-lg flex-1",children:[(0,t.jsx)("h2",{className:"jsx-34b04f45da2f7f3b text-white tracking-light text-4xl font-bold leading-tight px-4 text-center pb-10 animate-fade-in-up",children:"Welcome back"}),(0,t.jsxs)("form",{onSubmit:x,className:"jsx-34b04f45da2f7f3b",children:[(0,t.jsx)("div",{className:"jsx-34b04f45da2f7f3b flex max-w-auto flex-wrap items-end gap-4 px-4 animate-fade-in-up animation-delay-200",children:(0,t.jsxs)("label",{htmlFor:"email",className:"jsx-34b04f45da2f7f3b group flex flex-col min-w-40 flex-1",children:[(0,t.jsx)("p",{className:"jsx-34b04f45da2f7f3b text-white text-xl font-medium leading-normal pb-2 transition-all duration-300 group-hover:text-[#e5a5d1]",children:"Email"}),(0,t.jsxs)("div",{className:"jsx-34b04f45da2f7f3b flex w-full flex-1 items-stretch rounded-lg group/email",children:[(0,t.jsx)("input",{name:"email",type:"email",placeholder:"Enter your email",value:e.email,onChange:g,required:!0,className:"jsx-34b04f45da2f7f3b form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white focus:outline-0 focus:ring-0 border border-[#523d4c] bg-[#261c23] focus:border-[#9c1674] h-14 placeholder:text-[#b79eb0] p-[15px] rounded-r-none border-r-0 pr-2 text-lg font-normal leading-normal transition-all duration-300 focus:scale-105 focus:shadow-lg focus:shadow-[#9c1674]/20 hover:border-[#63365a]"}),(0,t.jsx)("div",{"data-icon":"User","data-size":"24px","data-weight":"regular",className:"jsx-34b04f45da2f7f3b text-[#b79eb0] flex border border-[#523d4c] bg-[#261c23] items-center justify-center pr-[15px] rounded-r-lg border-l-0 transition-all duration-300 group-hover/email:border-[#63365a] group-hover/email:text-white",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",className:"jsx-34b04f45da2f7f3b",children:(0,t.jsx)("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z",className:"jsx-34b04f45da2f7f3b"})})})]})]})}),(0,t.jsx)("div",{className:"jsx-34b04f45da2f7f3b flex max-w-auto flex-wrap items-end gap-4 px-4 py-3 animate-fade-in-up animation-delay-400",children:(0,t.jsxs)("label",{htmlFor:"password",className:"jsx-34b04f45da2f7f3b group flex flex-col min-w-40 flex-1",children:[(0,t.jsx)("p",{className:"jsx-34b04f45da2f7f3b text-white text-xl font-medium leading-normal pb-2 transition-all duration-300 group-hover:text-[#e5a5d1]",children:"Password"}),(0,t.jsxs)("div",{className:"jsx-34b04f45da2f7f3b flex w-full flex-1 items-stretch rounded-lg group/password",children:[(0,t.jsx)("input",{name:"password",type:l?"text":"password",value:e.password,onChange:g,required:!0,placeholder:"Enter your password",className:"jsx-34b04f45da2f7f3b form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white focus:outline-0 focus:ring-0 border border-[#523d4c] bg-[#261c23] focus:border-[#9c1674] h-14 placeholder:text-[#b79eb0] p-[15px] rounded-r-none border-r-0 pr-2 text-lg font-normal leading-normal transition-all duration-300 focus:scale-105 focus:shadow-lg focus:shadow-[#9c1674]/20 hover:border-[#63365a]"}),(0,t.jsx)("button",{type:"button",onClick:()=>{u(!l)},className:"jsx-34b04f45da2f7f3b text-lightText flex border border-[#523d4c] bg-[#261c23] text-white items-center justify-center px-4 rounded-r-lg border-l-0 transition-all duration-300 hover:scale-110 hover:bg-[#2d212a] group-hover/password:border-[#63365a]",children:l?(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 256 256",className:"jsx-34b04f45da2f7f3b",children:(0,t.jsx)("path",{d:"M53.92,34.62A8,8,0,1,0,42.08,45.38L61.32,66.55C25,88.84,9.38,123.2,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208a127.11,127.11,0,0,0,52.07-10.83l22,24.21a8,8,0,1,0,11.84-10.76Zm47.33,75.84,41.67,45.85a32,32,0,0,1-41.67-45.85ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.16,133.16,0,0,1,25,128c4.69-8.79,19.66-33.39,47.35-49.38l18,19.75a48,48,0,0,0,63.66,70l14.73,16.2A112,112,0,0,1,128,192Zm6-95.43a8,8,0,0,1,3-15.72,48.16,48.16,0,0,1,38.77,42.64,8,8,0,0,1-7.22,8.71,6.39,6.39,0,0,1-.75,0,8,8,0,0,1-8-7.26A32.09,32.09,0,0,0,134,96.57Zm113.28,34.69c-.35.79-8.82,19.57-27.65,38.4-1.18,1.18-2.38,2.34-3.59,3.47a8,8,0,0,1-10.93-11.67c1-1,2-2,3-3A133.16,133.16,0,0,0,231,128c-4.69-8.79-19.66-33.39-47.35-49.38a8,8,0,1,1,8.7-13.53C216.94,77.67,231.94,102.27,236.63,111.06A8,8,0,0,1,234.71,117,8.13,8.13,0,0,1,231,119.26Z",className:"jsx-34b04f45da2f7f3b"})}):(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 256 256",className:"jsx-34b04f45da2f7f3b",children:(0,t.jsx)("path",{d:"M247.31,124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57,61.26,162.88,48,128,48S61.43,61.26,36.34,86.35C17.51,105.18,9,124,8.69,124.76a8,8,0,0,0,0,6.5c.35.79,8.82,19.57,27.65,38.4C61.43,194.74,93.12,208,128,208s66.57-13.26,91.66-38.34c18.83-18.83,27.3-37.61,27.65-38.4A8,8,0,0,0,247.31,124.76ZM128,192c-30.78,0-57.67-11.19-79.93-33.25A133.47,133.47,0,0,1,25,128,133.33,133.33,0,0,1,48.07,97.25C70.33,75.19,97.22,64,128,64s57.67,11.19,79.93,33.25A133.46,133.46,0,0,1,231.05,128C223.84,141.45,192.43,192,128,192Zm0-112a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Z",className:"jsx-34b04f45da2f7f3b"})})})]})]})}),(0,t.jsx)("p",{className:"jsx-34b04f45da2f7f3b text-[#b79eb0] text-lg font-normal leading-normal pb-1 pt-3 px-4 text-left cursor-pointer animate-fade-in-up animation-delay-600 transition-all duration-300 hover:text-[#e5a5d1] hover:underline hover:scale-105 inline-block",children:"Forgot password?"}),(0,t.jsx)("div",{className:"jsx-34b04f45da2f7f3b flex px-4 py-3 animate-fade-in-up animation-delay-800",children:(0,t.jsxs)("button",{type:"submit",disabled:h,className:"jsx-34b04f45da2f7f3b group relative flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-5 flex-1 bg-[#9c1674] text-white text-base font-bold leading-normal tracking-[0.015em] disabled:opacity-50 transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-[#9c1674]/40",children:[(0,t.jsx)("div",{className:"jsx-34b04f45da2f7f3b absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),(0,t.jsx)("span",{className:"jsx-34b04f45da2f7f3b truncate text-xl font-extrabold relative z-10 flex items-center gap-2",children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"jsx-34b04f45da2f7f3b w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):"Log in"})]})}),(0,t.jsxs)("p",{className:"jsx-34b04f45da2f7f3b text-[#b79eb0] text-lg font-normal leading-normal pb-3 pt-1 px-4 text-center animate-fade-in animation-delay-1000",children:["Don't have an account?"," ",(0,t.jsx)(n.default,{href:"./signup",className:"text-[#9c1674] hover:text-[#e5a5d1] transition-all duration-300 hover:underline hover:scale-105 inline-block",children:"Sign up"})]})]})]})})}),(0,t.jsx)(()=>d&&p?(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsx)("div",{className:"bg-[#261c23] rounded-xl w-full max-w-md border border-[#523d4c] shadow-2xl transform transition-all duration-300 scale-95 hover:scale-100",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-[#FFEAD8] text-xl font-bold",children:"Login Error"}),(0,t.jsx)("button",{onClick:y,className:"text-[#b79eb0] hover:text-[#e5a5d1] transition-colors",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-[#FFEAD8] font-semibold",children:"Unable to Sign In"}),(0,t.jsx)("p",{className:"text-[#FFEAD8]/70 text-sm mt-1",children:p})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{onClick:y,className:"flex-1 bg-white/10 hover:bg-white/20 text-[#FFEAD8] py-3 rounded-lg font-medium transition-colors border border-[#523d4c] hover:border-[#63365a]",children:"Try Again"}),(0,t.jsx)("button",{onClick:()=>b.push("/signup"),className:"flex-1 bg-[#9c1674] hover:bg-[#9c1674]/90 text-white py-3 rounded-lg font-medium transition-colors",children:"Create Account"})]})]})]})})}):null,{className:"jsx-34b04f45da2f7f3b"}),(0,t.jsx)(r.default,{id:"34b04f45da2f7f3b",children:"@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes pulse-slow{0%,to{opacity:.1}50%{opacity:.2}}.animate-fade-in-up.jsx-34b04f45da2f7f3b{opacity:0;animation:.6s ease-out forwards fadeInUp}.animate-fade-in.jsx-34b04f45da2f7f3b{opacity:0;animation:.4s ease-out forwards fadeIn}.animate-pulse-slow.jsx-34b04f45da2f7f3b{animation:3s ease-in-out infinite pulse-slow}.animation-delay-200.jsx-34b04f45da2f7f3b{animation-delay:.2s}.animation-delay-400.jsx-34b04f45da2f7f3b{animation-delay:.4s}.animation-delay-600.jsx-34b04f45da2f7f3b{animation-delay:.6s}.animation-delay-800.jsx-34b04f45da2f7f3b{animation-delay:.8s}.animation-delay-1000.jsx-34b04f45da2f7f3b{animation-delay:1s}.animation-delay-1500.jsx-34b04f45da2f7f3b{animation-delay:1.5s}"})]})}}]);