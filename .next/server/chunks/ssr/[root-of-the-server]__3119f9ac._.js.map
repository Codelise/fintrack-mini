{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","turbopack:///[project]/node_modules/next/src/client/components/handle-isr-error.tsx","turbopack:///[project]/node_modules/next/src/client/components/builtin/global-error.tsx","turbopack:///[project]/src/hooks/useGoal.js","turbopack:///[project]/src/api/goal/route.js","turbopack:///[project]/src/services/goal-service.js"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","const workAsyncStorage =\n  typeof window === 'undefined'\n    ? (\n        require('../../server/app-render/work-async-storage.external') as typeof import('../../server/app-render/work-async-storage.external')\n      ).workAsyncStorage\n    : undefined\n\n// if we are revalidating we want to re-throw the error so the\n// function crashes so we can maintain our previous cache\n// instead of caching the error page\nexport function HandleISRError({ error }: { error: any }) {\n  if (workAsyncStorage) {\n    const store = workAsyncStorage.getStore()\n    if (store?.isRevalidate || store?.isStaticGeneration) {\n      console.error(error)\n      throw error\n    }\n  }\n\n  return null\n}\n","'use client'\n\nimport { HandleISRError } from '../handle-isr-error'\n\nconst styles = {\n  error: {\n    // https://github.com/sindresorhus/modern-normalize/blob/main/modern-normalize.css#L38-L52\n    fontFamily:\n      'system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"',\n    height: '100vh',\n    textAlign: 'center',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  text: {\n    fontSize: '14px',\n    fontWeight: 400,\n    lineHeight: '28px',\n    margin: '0 8px',\n  },\n} as const\n\nexport type GlobalErrorComponent = React.ComponentType<{\n  error: any\n}>\nfunction DefaultGlobalError({ error }: { error: any }) {\n  const digest: string | undefined = error?.digest\n  return (\n    <html id=\"__next_error__\">\n      <head></head>\n      <body>\n        <HandleISRError error={error} />\n        <div style={styles.error}>\n          <div>\n            <h2 style={styles.text}>\n              Application error: a {digest ? 'server' : 'client'}-side exception\n              has occurred while loading {window.location.hostname} (see the{' '}\n              {digest ? 'server logs' : 'browser console'} for more\n              information).\n            </h2>\n            {digest ? <p style={styles.text}>{`Digest: ${digest}`}</p> : null}\n          </div>\n        </div>\n      </body>\n    </html>\n  )\n}\n\n// Exported so that the import signature in the loaders can be identical to user\n// supplied custom global error signatures.\nexport default DefaultGlobalError\n","import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { goalService } from \"@/services/goal-service\";\r\n\r\nexport const goalKeys = {\r\n  all: [\"goals\"],\r\n  lists: () => [...goalKeys.all, \"list\"],\r\n  list: (filters) => [...goalKeys.lists(), { filters }],\r\n  details: () => [...goalKeys.all, \"detail\"],\r\n  detail: (id) => [...goalKeys.details(), id],\r\n};\r\n\r\nexport const useGoal = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  const getGoals = (userId) => {\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    return useQuery({\r\n      queryKey: goalKeys.list({ userId }),\r\n      queryFn: () => goalService.getGoals(userId),\r\n      enabled: !!userId,\r\n      staleTime: 2 * 60 * 1000,\r\n    });\r\n  };\r\n\r\n  const createGoalMutation = useMutation({\r\n    mutationFn: goalService.createGoal,\r\n    onSuccess: (result) => {\r\n      if (result.data) {\r\n        queryClient.invalidateQueries({ queryKey: goalKeys.lists() });\r\n      }\r\n    },\r\n    onError: (error) => {\r\n      console.error(\"Error creating goal:\", error);\r\n    },\r\n  });\r\n\r\n  const createMultipleGoalsMutation = useMutation({\r\n    mutationFn: goalService.createMultipleGoals,\r\n    onSuccess: (result) => {\r\n      if (result.data) {\r\n        queryClient.invalidateQueries({ queryKey: goalKeys.lists() });\r\n      }\r\n    },\r\n  });\r\n\r\n  const updateGoalMutation = useMutation({\r\n    mutationFn: ({ goalId, updates }) =>\r\n      goalService.updateGoal(goalId, updates),\r\n    onSuccess: (result) => {\r\n      if (result.data) {\r\n        queryClient.invalidateQueries({ queryKey: goalKeys.lists() });\r\n      }\r\n    },\r\n    onError: (error) => {\r\n      console.error(\"Error updating goal:\", error);\r\n    },\r\n  });\r\n\r\n  const deleteGoalMutation = useMutation({\r\n    mutationFn: (goalId) => goalService.deleteGoal(goalId),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: goalKeys.lists() });\r\n    },\r\n    onError: (error) => {\r\n      console.error(\"Error deleting goal: \", error);\r\n    },\r\n  });\r\n\r\n  const createGoal = (goalData) => {\r\n    return createGoalMutation.mutateAsync(goalData);\r\n  };\r\n\r\n  const createMultipleGoals = (goalsArray) => {\r\n    return createMultipleGoalsMutation.mutateAsync(goalsArray);\r\n  };\r\n\r\n  const updateGoal = (goalId, updates) => {\r\n    return updateGoalMutation.mutateAsync({ goalId, updates });\r\n  };\r\n\r\n  const deleteGoal = (goalId) => {\r\n    return deleteGoalMutation.mutateAsync(goalId);\r\n  };\r\n\r\n  // const clearError = () => {\r\n  //   createGoalMutation.reset();\r\n  //   createMultipleGoalsMutation.reset();\r\n  //   updateGoalMutation.reset();\r\n  //   deleteGoalMutation.reset();\r\n  // };\r\n\r\n  return {\r\n    // Query methods\r\n    getGoals,\r\n\r\n    // Mutation methods\r\n    createGoal,\r\n    createMultipleGoals,\r\n    updateGoal,\r\n    deleteGoal,\r\n    // clearError,\r\n\r\n    // Mutation states\r\n    mutations: {\r\n      createGoal: createGoalMutation,\r\n      createMultipleGoals: createMultipleGoalsMutation,\r\n      updateGoal: updateGoalMutation,\r\n      deleteGoal: deleteGoalMutation,\r\n    },\r\n  };\r\n};\r\n","import { supabase } from \"@/lib/supabase\";\r\n\r\nexport async function getGoals(userId) {\r\n  const { data, error } = await supabase\r\n    .from(\"goals\")\r\n    .select(\"*\")\r\n    .eq(\"user_id\", userId)\r\n    .order(\"deadline\");\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function createGoal(goalData) {\r\n  const { data, error } = await supabase\r\n    .from(\"goals\")\r\n    .insert([goalData])\r\n    .select();\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function createMultipleGoals(goalsArray) {\r\n  const { data, error } = await supabase\r\n    .from(\"goals\")\r\n    .insert(goalsArray)\r\n    .select();\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function updateGoal(goalId, updates) {\r\n  const { data, error } = await supabase\r\n    .from(\"goals\")\r\n    .update(updates)\r\n    .eq(\"goal_id\", goalId)\r\n    .select();\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function deleteGoal(goalId) {\r\n  const { error } = await supabase.from(\"goals\").delete().eq(\"goal_id\", goalId);\r\n\r\n  return { error };\r\n}\r\n","import {\r\n  getGoals as getGoalsQuery,\r\n  createGoal as createGoalQuery,\r\n  createMultipleGoals as createMultipleGoalsQuery,\r\n  updateGoal as updateGoalQuery,\r\n  deleteGoal as deleteGoalQuery,\r\n} from \"../api/goal/route\";\r\n\r\nexport class GoalService {\r\n  async getGoals(userId) {\r\n    try {\r\n      const result = await getGoalsQuery(userId);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error fetching goals: \", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n\r\n  async createGoal(goalData) {\r\n    try {\r\n      if (!goalData.user_id || !goalData.goal_name || !goalData.target_amount) {\r\n        throw new Error(\"User ID, goal_name, and target_amount are required\");\r\n      }\r\n\r\n      if (goalData.target_amount <= 0) {\r\n        throw new Error(\"Target amount must be greater than 0\");\r\n      }\r\n\r\n      const result = await createGoalQuery(goalData);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error creating goal: \", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n  async createMultipleGoals(goalsArray) {\r\n    try {\r\n      for (const goal of goalsArray) {\r\n        if (!goal.user_id || !goal.goal_name || !goal.target_amount) {\r\n          throw new Error(\r\n            \"All goals must have user_id, goal_name, and target_amount\"\r\n          );\r\n        }\r\n        if (goal.target_amount <= 0) {\r\n          throw new Error(\"All target amounts must be greater than 0\");\r\n        }\r\n      }\r\n\r\n      const result = await createMultipleGoalsQuery(goalsArray);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error creating multiple goals:\", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n\r\n  async updateGoal(goalId, updates) {\r\n    try {\r\n      const result = await updateGoalQuery(goalId, updates);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error updating goal:\", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n\r\n  async deleteGoal(goalId) {\r\n    try {\r\n      const result = await deleteGoalQuery(goalId);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error deleting goal:\", error);\r\n      return { error };\r\n    }\r\n  }\r\n}\r\n\r\nexport const goalService = new GoalService();\r\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","ReactServerDOMTurbopackClient","ReactDOM","HandleISRError","workAsyncStorage","window","undefined","error","store","getStore","isRevalidate","isStaticGeneration","console","styles","fontFamily","height","textAlign","display","flexDirection","alignItems","justifyContent","text","fontSize","fontWeight","lineHeight","margin","DefaultGlobalError","digest","html","id","head","body","div","style","h2","location","hostname","p"],"mappings":"+iBAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,+BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,8BCFzCL,GAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,kBAAkB,+BCFzCN,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEI,6BAA6B,+BCFtDP,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEK,QAAQ,wGCQjBC,iBAAAA,qCAAAA,KAVhB,IAAMC,EAGER,EAAQ,CAAA,CAAA,IAAA,GACRQ,MAHN,OAAOC,GAGe,CAMjB,EALDC,KAJc,EASJH,EAAe,CAAyB,EAAzB,GAAA,OAAEI,CAAK,CAAkB,CAAzB,EAC7B,GAAIH,EAAkB,CACpB,IAAMI,EAAQJ,EAAiBK,QAAQ,GACvC,GAAID,CAAAA,MAAAA,EAAAA,KAAAA,EAAAA,EAAOE,YAAAA,AAAY,IAAIF,CAAJ,OAAIA,KAAAA,EAAAA,EAAOG,kBAAAA,AAAkB,EAElD,CAFoD,KACpDC,QAAQL,KAAK,CAACA,GACRA,CAEV,CAEA,OAAO,IACT,+TCgCA,OADA,AADA,GAEA,qCAAA,GAD2C,uBAjDZ,CAAA,CAAA,IAAA,GAEzBM,EAAS,CACbN,EA6C8E,IA7CvE,CAELO,WACE,8FACFC,OAAQ,QACRC,UAAW,SACXC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,eAAgB,QAClB,EACAC,KAAM,CACJC,SAAU,OACVC,WAAY,IACZC,WAAY,OACZC,OAAQ,OACV,CACF,EA8BA,EAzBA,SAA4B,AAAnBC,AAyBMA,CAzBsC,EAAzB,GAAA,OAAEnB,CAAK,CAAkB,CAAzB,EACpBoB,EAA6BpB,MAAAA,EAAAA,KAAAA,EAAAA,EAAOoB,MAAM,CAChD,MACE,CADF,EACE,EAAA,IAAA,EAACC,CADH,MACGA,CAAKC,GAAG,2BACP,CAAA,EAAA,EAAA,GAAA,EAACC,OAAAA,CAAAA,GACD,CAAA,EAAA,EAAA,IAAA,EAACC,OAAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC5B,EAAAA,cAAc,CAAA,CAACI,MAAOA,IACvB,GAAA,EAAA,GAAA,EAACyB,MAAAA,CAAIC,MAAOpB,EAAON,KAAK,UACtB,CAAA,EAAA,EAAA,IAAA,EAACyB,CAAD,KAACA,WACC,CAAA,EAAA,EAAA,IAAA,EAACE,KAAAA,CAAGD,MAAOpB,EAAOQ,IAAI,WAAE,wBACAM,EAAS,SAAW,SAAS,8CACvBtB,OAAO8B,QAAQ,CAACC,QAAQ,CAAC,YAAU,IAC9DT,EAAS,cAAgB,kBAAkB,6BAG7CA,EAAS,CAAA,EAAA,EAAA,EAATA,CAAS,EAACU,IAAAA,CAAEJ,GAAZN,GAAmBd,EAAOQ,IAAI,UAAI,WAAUM,IAAgB,eAMzE,8QChDA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OCAA,EAAA,EAAA,CAAA,CAAA,OAEO,eAAe,EAAS,CAAM,EACnC,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,EAAA,QAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,UAAW,GACd,KAAK,CAAC,YAET,MAAO,MAAE,QAAM,CAAM,CACvB,CAEO,eAAe,EAAW,CAAQ,EACvC,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,EAAA,QAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,CAAC,EAAS,EACjB,MAAM,GAET,MAAO,MAAE,QAAM,CAAM,CACvB,CAEO,eAAe,EAAoB,CAAU,EAClD,GAAM,MAAE,CAAI,CAAE,OAAK,CAAE,CAAG,MAAM,EAAA,QAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,GACP,MAAM,GAET,MAAO,MAAE,QAAM,CAAM,CACvB,CAEO,eAAe,EAAW,CAAM,CAAE,CAAO,EAC9C,GAAM,MAAE,CAAI,CAAE,OAAK,CAAE,CAAG,MAAM,EAAA,QAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,GACP,EAAE,CAAC,UAAW,GACd,MAAM,GAET,MAAO,MAAE,QAAM,CAAM,CACvB,CAEO,eAAe,EAAW,CAAM,EACrC,GAAM,OAAE,CAAK,CAAE,CAAG,MAAM,EAAA,QAAQ,CAAC,IAAI,CAAC,SAAS,MAAM,GAAG,EAAE,CAAC,UAAW,GAEtE,MAAO,OAAE,CAAM,CACjB,CCkCO,IAAM,EAAc,IAtEpB,AAsEwB,MAtElB,AACX,MAAM,SAAS,CAAM,CAAE,CACrB,GAAI,CAEF,OADe,AACR,MADc,EAAc,EAErC,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,yBAA0B,GACjC,CAAE,KAAM,WAAM,CAAM,CAC7B,CACF,CAEA,MAAM,WAAW,CAAQ,CAAE,CACzB,GAAI,CACF,GAAI,CAAC,EAAS,OAAO,EAAI,CAAC,EAAS,SAAS,EAAI,CAAC,EAAS,aAAa,CACrE,CADuE,KACjE,AAAI,MAAM,sDAGlB,GAAI,EAAS,aAAa,EAAI,EAC5B,CAD+B,KACzB,AAAI,MAAM,wCAIlB,OADe,AACR,MADc,EAAgB,EAEvC,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,wBAAyB,GAChC,CAAE,KAAM,KAAM,OAAM,CAC7B,CACF,CACA,MAAM,oBAAoB,CAAU,CAAE,CACpC,GAAI,CACF,IAAK,IAAM,KAAQ,EAAY,CAC7B,GAAI,CAAC,EAAK,OAAO,EAAI,CAAC,EAAK,SAAS,EAAI,CAAC,EAAK,aAAa,CACzD,CAD2D,KACjD,AAAJ,MACJ,6DAGJ,GAAI,EAAK,aAAa,EAAI,EACxB,CAD2B,KACrB,AAAI,MAAM,4CAEpB,CAGA,OADe,AACR,MADc,EAAyB,EAEhD,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,iCAAkC,GACzC,CAAE,KAAM,WAAM,CAAM,CAC7B,CACF,CAEA,MAAM,WAAW,CAAM,CAAE,CAAO,CAAE,CAChC,GAAI,CAEF,OADe,AACR,MADc,EAAgB,EAAQ,EAE/C,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,uBAAwB,GAC/B,CAAE,KAAM,WAAM,CAAM,CAC7B,CACF,CAEA,MAAM,WAAW,CAAM,CAAE,CACvB,GAAI,CAEF,OADe,AACR,MADc,EAAgB,EAEvC,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,uBAAwB,GAC/B,OAAE,CAAM,CACjB,CACF,CACF,EFzEa,EAAW,CACtB,IAAK,CAAC,QAAQ,CACd,MAAO,IAAM,IAAI,EAAS,GAAG,CAAE,OAAO,CACtC,KAAM,AAAC,GAAY,IAAI,EAAS,KAAK,GAAI,SAAE,CAAQ,EAAE,CACrD,QAAS,IAAM,IAAI,EAAS,GAAG,CAAE,SAAS,CAC1C,OAAQ,AAAC,GAAO,IAAI,EAAS,OAAO,GAAI,EAAG,AAC7C,EAEa,EAAU,KACrB,IAAM,EAAc,CAAA,EAAA,EAAA,cAAA,AAAc,IAY5B,EAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CACrC,WAAY,EAAY,UAAU,CAClC,UAAW,AAAC,IACN,EAAO,IAAI,EAAE,AACf,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAS,KAAK,EAAG,EAE/D,EACA,QAAU,AAAD,IACP,QAAQ,KAAK,CAAC,uBAAwB,EACxC,CACF,GAEM,EAA8B,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CAC9C,WAAY,EAAY,mBAAmB,CAC3C,UAAW,AAAC,IACN,EAAO,IAAI,EAAE,AACf,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAS,KAAK,EAAG,EAE/D,CACF,GAEM,EAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CACrC,WAAY,CAAC,QAAE,CAAM,SAAE,CAAO,CAAE,GAC9B,EAAY,UAAU,CAAC,EAAQ,GACjC,UAAW,AAAC,IACN,EAAO,IAAI,EAAE,AACf,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAS,KAAK,EAAG,EAE/D,EACA,QAAS,AAAC,IACR,QAAQ,KAAK,CAAC,uBAAwB,EACxC,CACF,GAEM,EAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CACrC,WAAY,AAAC,GAAW,EAAY,UAAU,CAAC,GAC/C,UAAW,KACT,EAAY,iBAAiB,CAAC,CAAE,SAAU,EAAS,KAAK,EAAG,EAC7D,EACA,QAAS,AAAC,IACR,QAAQ,KAAK,CAAC,wBAAyB,EACzC,CACF,GAyBA,MAAO,CAEL,SA/EgB,AAAD,GAER,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,CACd,SAAU,EAAS,IAAI,CAAC,QAAE,CAAO,GACjC,QAAS,IAAM,EAAY,QAAQ,CAAC,GACpC,QAAS,CAAC,CAAC,EACX,UAAW,IACb,AADiB,GA4EjB,EA5EsB,SAgDL,AAAC,GACX,EAAmB,WAAW,CAAC,GA4BtC,oBAzB0B,AAAC,GACpB,EAA4B,WAAW,CAAC,GAyB/C,WAtBiB,CAAC,EAAQ,IACnB,EAAmB,WAAW,CAAC,QAAE,UAAQ,CAAQ,GAsBxD,WAnBiB,AAAC,GACX,EAAmB,WAAW,CAAC,GAsBtC,UAAW,CACT,WAAY,EACZ,oBAAqB,EACrB,WAAY,EACZ,WAAY,CACd,CACF,CACF","ignoreList":[0,1,2,3,4,5,6]}