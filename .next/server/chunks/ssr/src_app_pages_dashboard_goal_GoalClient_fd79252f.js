module.exports=[89065,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(87924),c=a.i(31626);a.i(38246);var d=a.i(72131),e=a.i(80203),f=a.i(79011),g=a.i(1834);function h(){let{user:a}=(0,e.useAuth)(),{getGoals:h,createGoal:i,updateGoal:j,deleteGoal:k,mutations:{createGoal:l,updateGoal:m,deleteGoal:n}}=(0,f.useGoal)(),{data:o,isLoading:p,error:q}=h(a?.id),[r,s]=(0,d.useState)(!1),[t,u]=(0,d.useState)(!1),[v,w]=(0,d.useState)(null),[x,y]=(0,d.useState)(null),[z,A]=(0,d.useState)(!1),[B,C]=(0,d.useState)({goal_name:"",target_amount:"",current_amount:"",deadline:""}),D=o?.data||[];(0,d.useEffect)(()=>{A(!0)},[]);let E=async b=>{b.preventDefault();try{(await i({...B,user_id:a?.id,target_amount:parseFloat(B.target_amount),current_amount:parseFloat(B.current_amount)||0})).data&&(s(!1),C({goal_name:"",target_amount:"",current_amount:"",deadline:""}))}catch(a){console.error("Error creating goal:",a)}},F=async a=>{a.preventDefault();try{(await j(v.goal_id,{...B,target_amount:parseFloat(B.target_amount),current_amount:parseFloat(B.current_amount)})).data&&(s(!1),w(null),C({goal_name:"",target_amount:"",current_amount:"",deadline:""}))}catch(a){console.error("Error updating goal:",a)}},G=async()=>{if(x)try{await k(x.goal_id),u(!1),y(null)}catch(a){console.error("Error deleting goal:",a)}},H=a=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(a);return(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 relative flex h-auto min-h-screen w-full flex-col bg-[#21121e] overflow-x-hidden",children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 absolute top-1/4 left-1/4 w-32 h-32 bg-[#9c167f]/10 rounded-full blur-xl animate-pulse-slow"}),(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 absolute bottom-1/3 right-1/4 w-24 h-24 bg-[#9c167f]/5 rounded-full blur-lg animate-pulse-slow animation-delay-1000"}),(0,b.jsx)(g.default,{}),(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 layout-container flex h-full grow flex-col z-10",children:(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 mt-10 px-4 sm:px-8 md:px-12 lg:px-20 xl:px-40 flex flex-1 justify-center py-5",children:(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 layout-content-container flex flex-col w-full  flex-1",children:(0,b.jsxs)("main",{className:"jsx-eafef00766bdaec9 flex-1 mt-6 md:mt-10",children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex flex-wrap justify-between gap-4 p-4 items-center animate-fade-in-up",children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex min-w-72 flex-col gap-2",children:[(0,b.jsx)("h1",{className:"jsx-eafef00766bdaec9 text-white text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em]",children:"My Goals"}),(0,b.jsx)("p",{className:"jsx-eafef00766bdaec9 text-[#c695bb] text-base font-normal leading-normal",children:D.length>0?`You have ${D.length} active goal${1!==D.length?"s":""}`:"Track your financial goals and monitor your progress."})]}),(0,b.jsxs)("button",{onClick:()=>{w(null),C({goal_name:"",target_amount:"",current_amount:"",deadline:""}),s(!0)},className:"jsx-eafef00766bdaec9 group relative flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-5 bg-[#9c167f] text-white text-sm font-bold leading-normal tracking-[0.015em] transition-all duration-300 hover:bg-[#b51a97] hover:shadow-lg hover:shadow-[#9c167f]/40 hover:-translate-y-0.5",children:[(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 truncate relative z-10",children:"Add New Goal"}),(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"})]})]}),p&&(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 mt-8 flex justify-center",children:(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 text-[#c695bb] flex items-center gap-2",children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 w-5 h-5 border-2 border-[#9c167f] border-t-transparent rounded-full animate-spin"}),"Loading goals..."]})}),q&&(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 mt-8 flex justify-center",children:(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg p-4 animate-shake",children:["Error loading goals: ",q.message]})}),!p&&!q&&(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 mt-6 md:mt-8 flex flex-col gap-4 px-4",children:0===D.length?(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 text-center py-12 animate-fade-in",children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 text-[#c695bb] text-lg mb-4",children:"No goals found"}),(0,b.jsx)("p",{className:"jsx-eafef00766bdaec9 text-[#c695bb] text-sm",children:"Create your first goal to start tracking your financial progress"})]}):D.map((a,c)=>{var d,e;let f=(d=a.current_amount||0,(e=a.target_amount||1,0===e)?0:Math.min(d/e*100,100)),g=Math.ceil((new Date(a.deadline)-new Date)/864e5);return(0,b.jsx)("div",{style:{animationDelay:`${100*c}ms`},className:`jsx-eafef00766bdaec9 group flex flex-col gap-4 bg-[#321b2d] p-6 justify-between rounded-xl border border-[#63365a] transition-all duration-300 hover:border-[#9c167f] hover:shadow-lg hover:shadow-[#9c167f]/20 ${z?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex flex-col sm:flex-row items-start sm:items-center gap-4 w-full",children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 text-white flex items-center justify-center rounded-lg bg-[#63365a] shrink-0 size-12 transition-all duration-300 group-hover:bg-[#9c167f] group-hover:scale-105",children:(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 material-symbols-outlined text-2xl",children:"flag"})}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex flex-col justify-center flex-grow min-w-0",children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[(0,b.jsx)("p",{className:"jsx-eafef00766bdaec9 text-white text-lg font-bold leading-normal line-clamp-1",children:a.goal_name}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex items-center gap-4 text-sm",children:[(0,b.jsxs)("span",{className:"jsx-eafef00766bdaec9 text-[#c695bb]",children:["Target: ",H(a.target_amount)]}),(0,b.jsxs)("span",{className:"jsx-eafef00766bdaec9 text-[#c695bb]",children:["Saved: ",H(a.current_amount)]}),(0,b.jsx)("span",{className:`jsx-eafef00766bdaec9 px-2 py-1 rounded-full text-xs font-medium ${g<0?"bg-red-500/20 text-red-400":g<30?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:g<0?"Overdue":`${g} days left`})]})]}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 mt-3",children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex justify-between text-sm text-[#c695bb] mb-1",children:[(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9",children:"Progress"}),(0,b.jsxs)("span",{className:"jsx-eafef00766bdaec9",children:[f.toFixed(1),"%"]})]}),(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 w-full bg-[#21121e] rounded-full h-2",children:(0,b.jsx)("div",{style:{width:`${Math.max(f,0)}%`},className:`jsx-eafef00766bdaec9 h-2 rounded-full transition-all duration-500 ${f>=100?"bg-green-500":f>=75?"bg-[#9c167f]":f>=50?"bg-yellow-500":"bg-red-500"}`})})]})]}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex gap-2 shrink-0",children:[(0,b.jsxs)("button",{onClick:()=>{w(a),C({goal_name:a.goal_name,target_amount:a.target_amount.toString(),current_amount:a.current_amount.toString(),deadline:a.deadline.split("T")[0]}),s(!0)},disabled:m.isPending||n.isPending,className:"jsx-eafef00766bdaec9 flex items-center justify-center rounded-lg h-10 px-4 bg-[#321b2d] text-white gap-2 text-sm font-bold leading-normal tracking-[0.015em] transition-all duration-300 hover:bg-[#3d2245] border border-[#63365a] hover:border-[#9c167f] hover:scale-105 disabled:opacity-50",children:[(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 material-symbols-outlined text-lg",children:"edit"}),(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9",children:"Edit"})]}),(0,b.jsxs)("button",{onClick:()=>{y(a),u(!0)},disabled:n.isPending,className:"jsx-eafef00766bdaec9 flex items-center justify-center rounded-lg h-10 px-4 bg-red-500/20 text-red-400 gap-2 text-sm font-bold leading-normal tracking-[0.015em] transition-all duration-300 hover:bg-red-500/30 border border-red-500/30 hover:border-red-500 hover:scale-105 disabled:opacity-50",children:[(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 material-symbols-outlined text-lg",children:n.isPending?"hourglass_empty":"delete"}),(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9",children:n.isPending?"Deleting...":"Delete"})]})]})]})},a.goal_id)})})]})})})}),r&&(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in",children:(0,b.jsxs)("div",{onClick:a=>a.stopPropagation(),className:`jsx-eafef00766bdaec9 bg-[#321b2d] border border-[#63365a] rounded-2xl p-6 mx-4 w-full max-w-md transform transition-all duration-500 ${r?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"jsx-eafef00766bdaec9 text-white text-xl font-bold",children:v?"Edit Goal":"Create New Goal"}),(0,b.jsx)("button",{onClick:()=>s(!1),className:"jsx-eafef00766bdaec9 text-[#c695bb] hover:text-white transition-colors duration-200 p-1 rounded-lg hover:bg-white/10",children:(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 material-symbols-outlined text-2xl",children:"close"})})]}),(0,b.jsxs)("form",{onSubmit:v?F:E,className:"jsx-eafef00766bdaec9 space-y-4",children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9",children:[(0,b.jsx)("label",{className:"jsx-eafef00766bdaec9 block text-[#c695bb] text-sm font-medium mb-2",children:"Goal Name"}),(0,b.jsx)("input",{type:"text",required:!0,value:B.goal_name,onChange:a=>C({...B,goal_name:a.target.value}),placeholder:"e.g., Emergency Fund, Vacation",className:"jsx-eafef00766bdaec9 w-full bg-[#21121e] border border-[#63365a] rounded-lg px-3 py-2 text-white focus:outline-none focus:border-[#9c167f] transition-colors duration-300 focus:scale-105 focus:shadow-lg focus:shadow-[#9c167f]/20"})]}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9",children:[(0,b.jsx)("label",{className:"jsx-eafef00766bdaec9 block text-[#c695bb] text-sm font-medium mb-2",children:"Target Amount"}),(0,b.jsx)("input",{type:"number",required:!0,min:"0",step:"0.01",value:B.target_amount,onChange:a=>C({...B,target_amount:a.target.value}),placeholder:"0.00",className:"jsx-eafef00766bdaec9 w-full bg-[#21121e] border border-[#63365a] rounded-lg px-3 py-2 text-white focus:outline-none focus:border-[#9c167f] transition-colors duration-300 focus:scale-105 focus:shadow-lg focus:shadow-[#9c167f]/20"})]}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9",children:[(0,b.jsx)("label",{className:"jsx-eafef00766bdaec9 block text-[#c695bb] text-sm font-medium mb-2",children:"Current Amount"}),(0,b.jsx)("input",{type:"number",min:"0",step:"0.01",value:B.current_amount,onChange:a=>C({...B,current_amount:a.target.value}),placeholder:"0.00",className:"jsx-eafef00766bdaec9 w-full bg-[#21121e] border border-[#63365a] rounded-lg px-3 py-2 text-white focus:outline-none focus:border-[#9c167f] transition-colors duration-300 focus:scale-105 focus:shadow-lg focus:shadow-[#9c167f]/20"})]})]}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9",children:[(0,b.jsx)("label",{className:"jsx-eafef00766bdaec9 block text-[#c695bb] text-sm font-medium mb-2",children:"Target Date"}),(0,b.jsx)("input",{type:"date",required:!0,value:B.deadline,onChange:a=>C({...B,deadline:a.target.value}),min:new Date().toISOString().split("T")[0],className:"jsx-eafef00766bdaec9 w-full bg-[#21121e] border border-[#63365a] rounded-lg px-3 py-2 text-white focus:outline-none focus:border-[#9c167f] transition-colors duration-300 focus:scale-105 focus:shadow-lg focus:shadow-[#9c167f]/20"})]}),(l.isError||m.isError)&&(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 text-red-400 text-sm bg-red-400/10 border border-red-400/20 rounded-lg p-3",children:"Error saving goal. Please check your data and try again."}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>s(!1),className:"jsx-eafef00766bdaec9 flex-1 py-3 px-4 bg-transparent border border-[#63365a] text-[#c695bb] rounded-lg hover:bg-[#3d2245] hover:text-white transition-all duration-300 hover:scale-105",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:l.isPending||m.isPending,className:"jsx-eafef00766bdaec9 group relative flex-1 py-3 px-4 bg-[#9c167f] text-white rounded-lg hover:bg-[#b51a97] transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 overflow-hidden",children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),l.isPending||m.isPending?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),v?"Updating...":"Creating..."]}):(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 relative z-10",children:v?"Update Goal":"Create Goal"})]})]})]})]})}),t&&(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in",children:(0,b.jsxs)("div",{onClick:a=>a.stopPropagation(),className:`jsx-eafef00766bdaec9 bg-[#321b2d] border border-[#63365a] rounded-2xl p-6 mx-4 w-full max-w-md transform transition-all duration-500 ${t?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"jsx-eafef00766bdaec9 text-white text-xl font-bold",children:"Delete Goal"}),(0,b.jsx)("button",{onClick:()=>u(!1),className:"jsx-eafef00766bdaec9 text-[#c695bb] hover:text-white transition-colors duration-200 p-1 rounded-lg hover:bg-white/10",children:(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 material-symbols-outlined text-2xl",children:"close"})})]}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 space-y-4",children:[(0,b.jsxs)("p",{className:"jsx-eafef00766bdaec9 text-[#c695bb] text-sm",children:['Are you sure you want to delete the goal "',(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 text-white font-medium",children:x?.goal_name}),'"? This action cannot be undone.']}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:()=>u(!1),className:"jsx-eafef00766bdaec9 flex-1 py-3 px-4 bg-transparent border border-[#63365a] text-[#c695bb] rounded-lg hover:bg-[#3d2245] hover:text-white transition-all duration-300 hover:scale-105",children:"Cancel"}),(0,b.jsx)("button",{onClick:G,disabled:n.isPending,className:"jsx-eafef00766bdaec9 flex-1 py-3 px-4 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 border border-red-500/30 hover:border-red-500 transition-all duration-300 hover:scale-105 disabled:opacity-50 flex items-center justify-center gap-2",children:n.isPending?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 w-4 h-4 border-2 border-red-400 border-t-transparent rounded-full animate-spin"}),"Deleting..."]}):"Delete Goal"})]})]})]})}),(0,b.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined&display=optional",rel:"stylesheet",className:"jsx-eafef00766bdaec9"}),(0,b.jsx)(c.default,{id:"eafef00766bdaec9",children:'@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes pulse-slow{0%,to{opacity:.1}50%{opacity:.2}}.animate-fade-in-up.jsx-eafef00766bdaec9{opacity:0;animation:.6s ease-out forwards fadeInUp}.animate-fade-in.jsx-eafef00766bdaec9{opacity:0;animation:.4s ease-out forwards fadeIn}.animate-pulse-slow.jsx-eafef00766bdaec9{animation:3s ease-in-out infinite pulse-slow}.animation-delay-1000.jsx-eafef00766bdaec9{animation-delay:1s}.material-symbols-outlined.jsx-eafef00766bdaec9{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}'})]})}}];

//# sourceMappingURL=src_app_pages_dashboard_goal_GoalClient_fd79252f.js.map