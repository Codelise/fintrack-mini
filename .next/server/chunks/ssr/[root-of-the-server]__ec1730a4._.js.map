{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lyn/Desktop/GC/3rd%20Year/IT%20Elective%202%20Front%20End/FinTrack-IT-Elective-2/src/lib/react-query.js"],"sourcesContent":["import { QueryClient } from \"@tanstack/react-query\";\r\n\r\nexport const queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      staleTime: 5 * 60 * 1000, // 5 minutes\r\n      cacheTime: 10 * 60 * 1000, // 10 minutes\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n    },\r\n  },\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,cAAc,IAAI,4LAAW,CAAC;IACzC,gBAAgB;QACd,SAAS;YACP,WAAW,IAAI,KAAK;YACpB,WAAW,KAAK,KAAK;YACrB,OAAO;YACP,sBAAsB;QACxB;IACF;AACF","debugId":null}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lyn/Desktop/GC/3rd%20Year/IT%20Elective%202%20Front%20End/FinTrack-IT-Elective-2/src/lib/supabase.js"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\r\n  auth: {\r\n    autoRefreshToken: true,\r\n    persistSession: true,\r\n    detectSessionInUrl: true,\r\n    flowType: \"pkce\",\r\n    debug: false,\r\n  },\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,uMAAY,EAAC,aAAa,iBAAiB;IACjE,MAAM;QACJ,kBAAkB;QAClB,gBAAgB;QAChB,oBAAoB;QACpB,UAAU;QACV,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lyn/Desktop/GC/3rd%20Year/IT%20Elective%202%20Front%20End/FinTrack-IT-Elective-2/src/context/userContext.js"],"sourcesContent":["\"use client\";\r\nimport { useEffect } from \"react\";\r\nimport { createContext, useContext, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\n\r\nconst UserContext = createContext();\r\n\r\nexport function UserProvider({ children, initialSession }) {\r\n  // If the server supplied an initialSession prop, use it to avoid an\r\n  // unnecessary client-side roundtrip.\r\n  const [user, setUser] = useState(initialSession?.user ?? null);\r\n  const [isOnboarded, setIsOnboarded] = useState(false);\r\n  const [loading, setLoading] = useState(initialSession ? false : true);\r\n\r\n  useEffect(() => {\r\n    // If the server provided an initial session, skip the immediate getSession\r\n    // call but still subscribe to auth state changes so the client stays in sync.\r\n    let mounted = true;\r\n\r\n    const setupSubscription = () => {\r\n      const {\r\n        data: { subscription },\r\n      } = supabase.auth.onAuthStateChange(async (event, session) => {\r\n        setUser(session?.user ?? null);\r\n        setLoading(false);\r\n\r\n        if (event === \"SIGNED_OUT\") {\r\n          setIsOnboarded(false);\r\n        }\r\n      });\r\n\r\n      return () => subscription.unsubscribe();\r\n    };\r\n\r\n    if (initialSession && initialSession.user) {\r\n      // Server provided user ‚Äî skip fetching; still subscribe.\r\n      const unsub = setupSubscription();\r\n      return unsub;\r\n    }\r\n\r\n    // No initial session from server ‚Äî perform normal client session check.\r\n    const getSession = async () => {\r\n      try {\r\n        const {\r\n          data: { session },\r\n          error,\r\n        } = await supabase.auth.getSession();\r\n\r\n        if (error) {\r\n          console.error(\"Error getting session:\", error);\r\n          return;\r\n        }\r\n\r\n        if (session?.user) {\r\n          setUser(session.user);\r\n        } else {\r\n          setUser(null);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error in getSession:\", error);\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    };\r\n\r\n    getSession();\r\n    const unsub = setupSubscription();\r\n\r\n    return () => {\r\n      mounted = false;\r\n      if (typeof unsub === \"function\") unsub();\r\n    };\r\n  }, [initialSession]);\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        user,\r\n        setUser,\r\n        isOnboarded,\r\n        setIsOnboarded,\r\n        loading,\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useUser = () => {\r\n  const context = useContext(UserContext);\r\n  if (!context) {\r\n    throw new Error(\"useUser must be used within a UserProvider\");\r\n  }\r\n  return context;\r\n};\r\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;AAHA;;;;;AAKA,MAAM,4BAAc,IAAA,sNAAa;AAE1B,SAAS,aAAa,EAAE,QAAQ,EAAE,cAAc,EAAE;IACvD,oEAAoE;IACpE,qCAAqC;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC,gBAAgB,QAAQ;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC,iBAAiB,QAAQ;IAEhE,IAAA,kNAAS,EAAC;QACR,2EAA2E;QAC3E,8EAA8E;QAC9E,IAAI,UAAU;QAEd,MAAM,oBAAoB;YACxB,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,kIAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,OAAO;gBAChD,QAAQ,SAAS,QAAQ;gBACzB,WAAW;gBAEX,IAAI,UAAU,cAAc;oBAC1B,eAAe;gBACjB;YACF;YAEA,OAAO,IAAM,aAAa,WAAW;QACvC;QAEA,IAAI,kBAAkB,eAAe,IAAI,EAAE;YACzC,yDAAyD;YACzD,MAAM,QAAQ;YACd,OAAO;QACT;QAEA,wEAAwE;QACxE,MAAM,aAAa;YACjB,IAAI;gBACF,MAAM,EACJ,MAAM,EAAE,OAAO,EAAE,EACjB,KAAK,EACN,GAAG,MAAM,kIAAQ,CAAC,IAAI,CAAC,UAAU;gBAElC,IAAI,OAAO;oBACT,QAAQ,KAAK,CAAC,0BAA0B;oBACxC;gBACF;gBAEA,IAAI,SAAS,MAAM;oBACjB,QAAQ,QAAQ,IAAI;gBACtB,OAAO;oBACL,QAAQ;gBACV;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wBAAwB;YACxC,SAAU;gBACR,IAAI,SAAS,WAAW;YAC1B;QACF;QAEA;QACA,MAAM,QAAQ;QAEd,OAAO;YACL,UAAU;YACV,IAAI,OAAO,UAAU,YAAY;QACnC;IACF,GAAG;QAAC;KAAe;IAEnB,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lyn/Desktop/GC/3rd%20Year/IT%20Elective%202%20Front%20End/FinTrack-IT-Elective-2/src/api/wallet/route.js"],"sourcesContent":["import { supabase } from \"@/lib/supabase\";\r\n\r\nexport async function getUserWallets(userId) {\r\n  const { data, error } = await supabase\r\n    .from(\"wallets\")\r\n    .select(\"*\")\r\n    .eq(\"user_id\", userId)\r\n    .order(\"created_at\", { ascending: false });\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function createWallet(walletData) {\r\n  const { data, error } = await supabase\r\n    .from(\"wallets\")\r\n    .insert([walletData])\r\n    .select();\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function updateWallet(walletId, updates) {\r\n  const { data, error } = await supabase\r\n    .from(\"wallets\")\r\n    .update(updates)\r\n    .eq(\"wallet_id\", walletId)\r\n    .select();\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function deleteWallet(walletId) {\r\n  const { data, error } = await supabase\r\n    .from(\"wallets\")\r\n    .delete()\r\n    .eq(\"wallet_id\", walletId);\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function getWalletById(walletId) {\r\n  const { data, error } = await supabase\r\n    .from(\"wallets\")\r\n    .select(\"*\")\r\n    .eq(\"wallet_id\", walletId)\r\n    .single();\r\n\r\n  return { data, error };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAEO,eAAe,eAAe,MAAM;IACzC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QACd,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM;IAE1C,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,eAAe,aAAa,UAAU;IAC3C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC;QAAC;KAAW,EACnB,MAAM;IAET,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,eAAe,aAAa,QAAQ,EAAE,OAAO;IAClD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,SACP,EAAE,CAAC,aAAa,UAChB,MAAM;IAET,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,eAAe,aAAa,QAAQ;IACzC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,WACL,MAAM,GACN,EAAE,CAAC,aAAa;IAEnB,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,eAAe,cAAc,QAAQ;IAC1C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,UAChB,MAAM;IAET,OAAO;QAAE;QAAM;IAAM;AACvB","debugId":null}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lyn/Desktop/GC/3rd%20Year/IT%20Elective%202%20Front%20End/FinTrack-IT-Elective-2/src/services/wallet-service.js"],"sourcesContent":["import {\r\n  getUserWallets as getWalletsQuery,\r\n  createWallet as createWalletQuery,\r\n  updateWallet as updateWalletQuery,\r\n  deleteWallet as deleteWalletQuery,\r\n} from \"../api/wallet/route\";\r\n\r\nexport class WalletService {\r\n  async getWallets(userId) {\r\n    try {\r\n      const result = await getWalletsQuery(userId);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error fetching wallets:\", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n\r\n  async createWallet(walletData) {\r\n    try {\r\n      if (!walletData.user_id || !walletData.wallet_name) {\r\n        throw new Error(\"User ID and wallet name are required\");\r\n      }\r\n\r\n      const result = await createWalletQuery(walletData);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error creating wallet:\", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n\r\n  async createDefaultWallet(userId) {\r\n    try {\r\n      const defaultWalletData = {\r\n        user_id: userId,\r\n        wallet_name: \"Main Wallet\",\r\n        balance: 0,\r\n        currency: \"PHP\",\r\n      };\r\n\r\n      const result = await this.createWallet(defaultWalletData);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error creating default wallet:\", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n\r\n  async updateWallet(walletId, updates) {\r\n    try {\r\n      if (!walletId) {\r\n        throw new Error(\"Wallet ID is required\");\r\n      }\r\n\r\n      const result = await updateWalletQuery(walletId, updates);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error updating wallet:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async deleteWallet(walletId) {\r\n    try {\r\n      const result = await deleteWalletQuery(walletId);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error deleting wallet:\", error);\r\n      return { error };\r\n    }\r\n  }\r\n}\r\n\r\nexport const walletService = new WalletService();\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAOO,MAAM;IACX,MAAM,WAAW,MAAM,EAAE;QACvB,IAAI;YACF,MAAM,SAAS,MAAM,IAAA,+IAAe,EAAC;YACrC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO;gBAAE,MAAM;gBAAM;YAAM;QAC7B;IACF;IAEA,MAAM,aAAa,UAAU,EAAE;QAC7B,IAAI;YACF,IAAI,CAAC,WAAW,OAAO,IAAI,CAAC,WAAW,WAAW,EAAE;gBAClD,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,SAAS,MAAM,IAAA,6IAAiB,EAAC;YACvC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,OAAO;gBAAE,MAAM;gBAAM;YAAM;QAC7B;IACF;IAEA,MAAM,oBAAoB,MAAM,EAAE;QAChC,IAAI;YACF,MAAM,oBAAoB;gBACxB,SAAS;gBACT,aAAa;gBACb,SAAS;gBACT,UAAU;YACZ;YAEA,MAAM,SAAS,MAAM,IAAI,CAAC,YAAY,CAAC;YACvC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kCAAkC;YAChD,OAAO;gBAAE,MAAM;gBAAM;YAAM;QAC7B;IACF;IAEA,MAAM,aAAa,QAAQ,EAAE,OAAO,EAAE;QACpC,IAAI;YACF,IAAI,CAAC,UAAU;gBACb,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,SAAS,MAAM,IAAA,6IAAiB,EAAC,UAAU;YACjD,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM;QACR;IACF;IAEA,MAAM,aAAa,QAAQ,EAAE;QAC3B,IAAI;YACF,MAAM,SAAS,MAAM,IAAA,6IAAiB,EAAC;YACvC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,OAAO;gBAAE;YAAM;QACjB;IACF;AACF;AAEO,MAAM,gBAAgB,IAAI","debugId":null}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lyn/Desktop/GC/3rd%20Year/IT%20Elective%202%20Front%20End/FinTrack-IT-Elective-2/src/hooks/useWallets.js"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { walletService } from \"@/services/wallet-service\";\r\n\r\nexport const walletKeys = {\r\n  all: [\"wallets\"],\r\n  lists: () => [...walletKeys.all, \"list\"],\r\n  list: (filters) => [...walletKeys.lists(), { filters }],\r\n  details: () => [...walletKeys.all, \"detail\"],\r\n  detail: (id) => [...walletKeys.details(), id],\r\n};\r\n\r\nexport const useWallets = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  const getWallets = (userId) => {\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    return useQuery({\r\n      queryKey: walletKeys.list({ userId }),\r\n      queryFn: () => walletService.getWallets(userId),\r\n      enabled: !!userId,\r\n      staleTime: 2 * 60 * 1000, // 2 minutes\r\n    });\r\n  };\r\n\r\n  const createWalletMutation = useMutation({\r\n    mutationFn: walletService.createWallet,\r\n    onSuccess: (result) => {\r\n      if (result.data) {\r\n        queryClient.invalidateQueries({ queryKey: walletKeys.lists() });\r\n      }\r\n    },\r\n    onError: (error) => {\r\n      console.error(\"Error creating wallet:\", error);\r\n    },\r\n  });\r\n\r\n  const createDefaultWalletMutation = useMutation({\r\n    mutationFn: walletService.createDefaultWallet,\r\n    onSuccess: (result) => {\r\n      if (result.data) {\r\n        queryClient.invalidateQueries({ queryKey: walletKeys.lists() });\r\n      }\r\n    },\r\n    onError: (error) => {\r\n      console.error(\"Error creating default wallet:\", error);\r\n    },\r\n  });\r\n\r\n  const updateWalletMutation = useMutation({\r\n    mutationFn: ({ walletId, updates }) =>\r\n      walletService.updateWallet(walletId, updates),\r\n    onSuccess: (result, variables) => {\r\n      if (result.data) {\r\n        queryClient.setQueryData(walletKeys.lists(), (old) =>\r\n          old?.map((wallet) =>\r\n            wallet.wallet_id === variables.walletId ? result.data[0] : wallet\r\n          )\r\n        );\r\n      }\r\n    },\r\n  });\r\n\r\n  const deleteWalletMutation = useMutation({\r\n    mutationFn: walletService.deleteWallet,\r\n    onSuccess: (result, variables) => {\r\n      queryClient.setQueryData(walletKeys.lists(), (old) =>\r\n        old?.filter((wallet) => wallet.wallet_id !== variables)\r\n      );\r\n    },\r\n  });\r\n\r\n  const createWallet = (walletData) => {\r\n    return createWalletMutation.mutateAsync(walletData);\r\n  };\r\n\r\n  const createDefaultWallet = (userId) => {\r\n    return createDefaultWalletMutation.mutateAsync(userId);\r\n  };\r\n\r\n  const updateWallet = (walletId, updates) => {\r\n    return updateWalletMutation.mutateAsync({ walletId, updates });\r\n  };\r\n\r\n  const deleteWallet = (walletId) => {\r\n    return deleteWalletMutation.mutateAsync(walletId);\r\n  };\r\n\r\n  const clearError = () => {\r\n    createWalletMutation.reset();\r\n    createDefaultWalletMutation.reset();\r\n    updateWalletMutation.reset();\r\n    deleteWalletMutation.reset();\r\n  };\r\n\r\n  return {\r\n    // Query methods\r\n    getWallets,\r\n\r\n    // Mutation methods\r\n    createWallet,\r\n    createDefaultWallet,\r\n    updateWallet,\r\n    deleteWallet,\r\n    clearError,\r\n\r\n    mutations: {\r\n      createWallet: createWalletMutation,\r\n      createDefaultWallet: createDefaultWalletMutation,\r\n      updateWallet: updateWalletMutation,\r\n      deleteWallet: deleteWalletMutation,\r\n    },\r\n  };\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AACA;;;AAEO,MAAM,aAAa;IACxB,KAAK;QAAC;KAAU;IAChB,OAAO,IAAM;eAAI,WAAW,GAAG;YAAE;SAAO;IACxC,MAAM,CAAC,UAAY;eAAI,WAAW,KAAK;YAAI;gBAAE;YAAQ;SAAE;IACvD,SAAS,IAAM;eAAI,WAAW,GAAG;YAAE;SAAS;IAC5C,QAAQ,CAAC,KAAO;eAAI,WAAW,OAAO;YAAI;SAAG;AAC/C;AAEO,MAAM,aAAa;IACxB,MAAM,cAAc,IAAA,wMAAc;IAElC,MAAM,aAAa,CAAC;QAClB,sDAAsD;QACtD,OAAO,IAAA,uLAAQ,EAAC;YACd,UAAU,WAAW,IAAI,CAAC;gBAAE;YAAO;YACnC,SAAS,IAAM,qJAAa,CAAC,UAAU,CAAC;YACxC,SAAS,CAAC,CAAC;YACX,WAAW,IAAI,KAAK;QACtB;IACF;IAEA,MAAM,uBAAuB,IAAA,6LAAW,EAAC;QACvC,YAAY,qJAAa,CAAC,YAAY;QACtC,WAAW,CAAC;YACV,IAAI,OAAO,IAAI,EAAE;gBACf,YAAY,iBAAiB,CAAC;oBAAE,UAAU,WAAW,KAAK;gBAAG;YAC/D;QACF;QACA,SAAS,CAAC;YACR,QAAQ,KAAK,CAAC,0BAA0B;QAC1C;IACF;IAEA,MAAM,8BAA8B,IAAA,6LAAW,EAAC;QAC9C,YAAY,qJAAa,CAAC,mBAAmB;QAC7C,WAAW,CAAC;YACV,IAAI,OAAO,IAAI,EAAE;gBACf,YAAY,iBAAiB,CAAC;oBAAE,UAAU,WAAW,KAAK;gBAAG;YAC/D;QACF;QACA,SAAS,CAAC;YACR,QAAQ,KAAK,CAAC,kCAAkC;QAClD;IACF;IAEA,MAAM,uBAAuB,IAAA,6LAAW,EAAC;QACvC,YAAY,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,GAChC,qJAAa,CAAC,YAAY,CAAC,UAAU;QACvC,WAAW,CAAC,QAAQ;YAClB,IAAI,OAAO,IAAI,EAAE;gBACf,YAAY,YAAY,CAAC,WAAW,KAAK,IAAI,CAAC,MAC5C,KAAK,IAAI,CAAC,SACR,OAAO,SAAS,KAAK,UAAU,QAAQ,GAAG,OAAO,IAAI,CAAC,EAAE,GAAG;YAGjE;QACF;IACF;IAEA,MAAM,uBAAuB,IAAA,6LAAW,EAAC;QACvC,YAAY,qJAAa,CAAC,YAAY;QACtC,WAAW,CAAC,QAAQ;YAClB,YAAY,YAAY,CAAC,WAAW,KAAK,IAAI,CAAC,MAC5C,KAAK,OAAO,CAAC,SAAW,OAAO,SAAS,KAAK;QAEjD;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,OAAO,qBAAqB,WAAW,CAAC;IAC1C;IAEA,MAAM,sBAAsB,CAAC;QAC3B,OAAO,4BAA4B,WAAW,CAAC;IACjD;IAEA,MAAM,eAAe,CAAC,UAAU;QAC9B,OAAO,qBAAqB,WAAW,CAAC;YAAE;YAAU;QAAQ;IAC9D;IAEA,MAAM,eAAe,CAAC;QACpB,OAAO,qBAAqB,WAAW,CAAC;IAC1C;IAEA,MAAM,aAAa;QACjB,qBAAqB,KAAK;QAC1B,4BAA4B,KAAK;QACjC,qBAAqB,KAAK;QAC1B,qBAAqB,KAAK;IAC5B;IAEA,OAAO;QACL,gBAAgB;QAChB;QAEA,mBAAmB;QACnB;QACA;QACA;QACA;QACA;QAEA,WAAW;YACT,cAAc;YACd,qBAAqB;YACrB,cAAc;YACd,cAAc;QAChB;IACF;AACF","debugId":null}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lyn/Desktop/GC/3rd%20Year/IT%20Elective%202%20Front%20End/FinTrack-IT-Elective-2/src/api/transaction/route.js"],"sourcesContent":["import { supabase } from \"@/lib/supabase\";\r\n\r\nexport async function getTransactions(userId, filters = {}) {\r\n  let query = supabase\r\n    .from(\"transactions\")\r\n    .select(`*, categories (*)`)\r\n    .eq(\"user_id\", userId);\r\n\r\n  if (filters.wallet_id) {\r\n    query = query.eq(\"wallet_id\", filters.wallet_id);\r\n  }\r\n\r\n  if (filters.startDate && filters.endDate) {\r\n    query = query.gte(\"date\", filters.startDate).lte(\"date\", filters.endDate);\r\n  }\r\n\r\n  const { data, error } = await query.order(\"date\", { ascending: false });\r\n  return { data, error };\r\n}\r\n\r\nexport async function createTransaction(transactionData) {\r\n  const { data, error } = await supabase\r\n    .from(\"transactions\")\r\n    .insert([transactionData])\r\n    .select();\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function updateTransaction(transactionId, updates) {\r\n  const { data, error } = await supabase\r\n    .from(\"transactions\")\r\n    .update(updates)\r\n    .eq(\"transaction_id\", transactionId)\r\n    .select();\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function deleteTransaction(transactionId) {\r\n  const { data, error } = await supabase\r\n    .from(\"transactions\")\r\n    .delete()\r\n    .eq(\"transaction_id\", transactionId);\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function getTransactionById(transactionId) {\r\n  const { data, error } = await supabase\r\n    .from(\"transactions\")\r\n    .select(`*, categories (*)`)\r\n    .eq(\"transaction_id\", transactionId)\r\n    .single();\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function getTransactionsByWallet(userId, walletId) {\r\n  const { data, error } = await supabase\r\n    .from(\"transactions\")\r\n    .select(`*, categories (*)`)\r\n    .eq(\"user_id\", userId)\r\n    .eq(\"wallet_id\", walletId)\r\n    .order(\"date\", { ascending: false });\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function getTransactionsByCategory(userId, categoryId) {\r\n  const { data, error } = await supabase\r\n    .from(\"transactions\")\r\n    .select(`*, categories (*)`)\r\n    .eq(\"user_id\", userId)\r\n    .eq(\"category_id\", categoryId)\r\n    .order(\"date\", { ascending: false });\r\n\r\n  return { data, error };\r\n}\r\n\r\nexport async function getTransactionsByDateRange(userId, startDate, endDate) {\r\n  const { data, error } = await supabase\r\n    .from(\"transactions\")\r\n    .select(`*, categories (*)`)\r\n    .eq(\"user_id\", userId)\r\n    .gte(\"date\", startDate)\r\n    .lte(\"date\", endDate)\r\n    .order(\"date\", { ascending: false });\r\n\r\n  return { data, error };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AAEO,eAAe,gBAAgB,MAAM,EAAE,UAAU,CAAC,CAAC;IACxD,IAAI,QAAQ,kIAAQ,CACjB,IAAI,CAAC,gBACL,MAAM,CAAC,CAAC,iBAAiB,CAAC,EAC1B,EAAE,CAAC,WAAW;IAEjB,IAAI,QAAQ,SAAS,EAAE;QACrB,QAAQ,MAAM,EAAE,CAAC,aAAa,QAAQ,SAAS;IACjD;IAEA,IAAI,QAAQ,SAAS,IAAI,QAAQ,OAAO,EAAE;QACxC,QAAQ,MAAM,GAAG,CAAC,QAAQ,QAAQ,SAAS,EAAE,GAAG,CAAC,QAAQ,QAAQ,OAAO;IAC1E;IAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,MAAM,KAAK,CAAC,QAAQ;QAAE,WAAW;IAAM;IACrE,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,eAAe,kBAAkB,eAAe;IACrD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC;QAAC;KAAgB,EACxB,MAAM;IAET,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,eAAe,kBAAkB,aAAa,EAAE,OAAO;IAC5D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,SACP,EAAE,CAAC,kBAAkB,eACrB,MAAM;IAET,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,eAAe,kBAAkB,aAAa;IACnD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,GACN,EAAE,CAAC,kBAAkB;IAExB,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,eAAe,mBAAmB,aAAa;IACpD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,CAAC,iBAAiB,CAAC,EAC1B,EAAE,CAAC,kBAAkB,eACrB,MAAM;IAET,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,eAAe,wBAAwB,MAAM,EAAE,QAAQ;IAC5D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,CAAC,iBAAiB,CAAC,EAC1B,EAAE,CAAC,WAAW,QACd,EAAE,CAAC,aAAa,UAChB,KAAK,CAAC,QAAQ;QAAE,WAAW;IAAM;IAEpC,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,eAAe,0BAA0B,MAAM,EAAE,UAAU;IAChE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,CAAC,iBAAiB,CAAC,EAC1B,EAAE,CAAC,WAAW,QACd,EAAE,CAAC,eAAe,YAClB,KAAK,CAAC,QAAQ;QAAE,WAAW;IAAM;IAEpC,OAAO;QAAE;QAAM;IAAM;AACvB;AAEO,eAAe,2BAA2B,MAAM,EAAE,SAAS,EAAE,OAAO;IACzE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,kIAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,CAAC,iBAAiB,CAAC,EAC1B,EAAE,CAAC,WAAW,QACd,GAAG,CAAC,QAAQ,WACZ,GAAG,CAAC,QAAQ,SACZ,KAAK,CAAC,QAAQ;QAAE,WAAW;IAAM;IAEpC,OAAO;QAAE;QAAM;IAAM;AACvB","debugId":null}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lyn/Desktop/GC/3rd%20Year/IT%20Elective%202%20Front%20End/FinTrack-IT-Elective-2/src/services/transaction-service.js"],"sourcesContent":["import {\r\n  getTransactions as getTransactionsQuery,\r\n  createTransaction as createTransactionQuery,\r\n  updateTransaction as updateTransactionQuery,\r\n  deleteTransaction as deleteTransactionQuery,\r\n  getTransactionById as getTransactionByIdQuery,\r\n  getTransactionsByWallet as getTransactionsByWalletQuery,\r\n  getTransactionsByCategory as getTransactionsByCategoryQuery,\r\n  getTransactionsByDateRange as getTransactionsByDateRangeQuery,\r\n} from \"../api/transaction/route\";\r\n\r\nexport class TransactionService {\r\n  async getTransactions(userId, filters = {}) {\r\n    try {\r\n      const result = await getTransactionsQuery(userId, filters);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error fetching transactions:\", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n\r\n  async getTransactionById(transactionId) {\r\n    try {\r\n      const result = await getTransactionByIdQuery(transactionId);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error fetching transaction:\", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n\r\n  async createTransaction(transactionData) {\r\n    try {\r\n      console.log(\r\n        \"üéØ Transaction Service - Creating transaction with data:\",\r\n        JSON.stringify(transactionData, null, 2)\r\n      );\r\n\r\n      if (\r\n        !transactionData.user_id ||\r\n        !transactionData.amount ||\r\n        !transactionData.transaction_type ||\r\n        !transactionData.date\r\n      ) {\r\n        console.error(\"‚ùå Missing required fields:\", {\r\n          user_id: transactionData.user_id,\r\n          amount: transactionData.amount,\r\n          transaction_type: transactionData.transaction_type,\r\n          date: transactionData.date,\r\n        });\r\n        throw new Error(\r\n          \"User ID, amount, transaction type, and date are required\"\r\n        );\r\n      }\r\n\r\n      if (transactionData.amount <= 0) {\r\n        throw new Error(\"Transaction amount must be greater than 0\");\r\n      }\r\n\r\n      const result = await createTransactionQuery(transactionData);\r\n      console.log(\"‚úÖ Transaction creation result:\", result);\r\n\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"‚ùå Error creating transaction:\", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n  async updateTransaction(transactionId, updates) {\r\n    try {\r\n      console.log(\"Service: Updating transaction\", transactionId, updates);\r\n\r\n      if (!transactionId) {\r\n        throw new Error(\"Transaction ID is required\");\r\n      }\r\n\r\n      if (updates.amount && updates.amount <= 0) {\r\n        throw new Error(\"Transaction amount must be greater than 0\");\r\n      }\r\n\r\n      const result = await updateTransactionQuery(transactionId, updates);\r\n      console.log(\"Service: Update result\", result);\r\n\r\n      if (result.error) {\r\n        console.error(\"Service: Update failed:\", result.error);\r\n        throw result.error;\r\n      }\r\n\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Service: Error updating transaction:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  async deleteTransaction(transactionId) {\r\n    try {\r\n      const result = await deleteTransactionQuery(transactionId);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error deleting transaction:\", error);\r\n      return { error };\r\n    }\r\n  }\r\n\r\n  async getTransactionsByWallet(userId, walletId) {\r\n    try {\r\n      const result = await getTransactionsByWalletQuery(userId, walletId);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error fetching wallet transactions:\", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n\r\n  async getTransactionsByCategory(userId, categoryId) {\r\n    try {\r\n      const result = await getTransactionsByCategoryQuery(userId, categoryId);\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error fetching category transactions:\", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n\r\n  async getTransactionsByDateRange(userId, startDate, endDate) {\r\n    try {\r\n      const result = await getTransactionsByDateRangeQuery(\r\n        userId,\r\n        startDate,\r\n        endDate\r\n      );\r\n      return result;\r\n    } catch (error) {\r\n      console.error(\"Error fetching transactions by date range:\", error);\r\n      return { data: null, error };\r\n    }\r\n  }\r\n}\r\n\r\nexport const transactionService = new TransactionService();\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 645, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lyn/Desktop/GC/3rd%20Year/IT%20Elective%202%20Front%20End/FinTrack-IT-Elective-2/src/hooks/useTransactions.js"],"sourcesContent":["import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { transactionService } from \"@/services/transaction-service\";\r\n\r\nexport const transactionKeys = {\r\n  all: [\"transactions\"],\r\n  lists: () => [...transactionKeys.all, \"list\"],\r\n  list: (filters) => [...transactionKeys.lists(), { filters }],\r\n  details: () => [...transactionKeys.all, \"detail\"],\r\n  detail: (id) => [...transactionKeys.details(), id],\r\n  byWallet: (walletId) => [...transactionKeys.lists(), { walletId }],\r\n  byCategory: (categoryId) => [...transactionKeys.lists(), { categoryId }],\r\n  byDateRange: (startDate, endDate) => [\r\n    ...transactionKeys.lists(),\r\n    { startDate, endDate },\r\n  ],\r\n};\r\n\r\nexport const useTransactions = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  const getTransactions = (userId, filters = {}) => {\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    return useQuery({\r\n      queryKey: transactionKeys.list({ userId, ...filters }),\r\n      queryFn: () => transactionService.getTransactions(userId, filters),\r\n      enabled: !!userId,\r\n      staleTime: 2 * 60 * 1000, // 2 minutes\r\n    });\r\n  };\r\n\r\n  const getTransactionById = (transactionId) => {\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    return useQuery({\r\n      queryKey: transactionKeys.detail(transactionId),\r\n      queryFn: () => transactionService.getTransactionById(transactionId),\r\n      enabled: !!transactionId,\r\n      staleTime: 5 * 60 * 1000, // 5 minutes for single transaction\r\n    });\r\n  };\r\n\r\n  const getTransactionsByWallet = (walletId) => {\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    return useQuery({\r\n      queryKey: transactionKeys.byWallet(walletId),\r\n      queryFn: () =>\r\n        transactionService.getTransactionsByWallet(userId, walletId),\r\n      enabled: !!userId && !!walletId,\r\n      staleTime: 2 * 60 * 1000,\r\n    });\r\n  };\r\n\r\n  const getTransactionsByCategory = (userId, categoryId) => {\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    return useQuery({\r\n      queryKey: transactionKeys.byCategory(categoryId),\r\n      queryFn: () =>\r\n        transactionService.getTransactionsByCategory(userId, categoryId),\r\n      enabled: !!userId && !!categoryId,\r\n      staleTime: 2 * 60 * 1000,\r\n    });\r\n  };\r\n\r\n  const getTransactionsByDateRange = (userId, startDate, endDate) => {\r\n    // eslint-disable-next-line react-hooks/rules-of-hooks\r\n    return useQuery({\r\n      queryKey: transactionKeys.byDateRange(startDate, endDate),\r\n      queryFn: () =>\r\n        transactionService.getTransactionsByDateRange(\r\n          userId,\r\n          startDate,\r\n          endDate\r\n        ),\r\n      enabled: !!userId && !!startDate && !!endDate,\r\n      staleTime: 2 * 60 * 1000,\r\n    });\r\n  };\r\n\r\n  const createTransactionMutation = useMutation({\r\n    mutationFn: transactionService.createTransaction,\r\n    onSuccess: (result) => {\r\n      if (result.data) {\r\n        // Invalidate all transaction lists\r\n        queryClient.invalidateQueries({ queryKey: transactionKeys.lists() });\r\n\r\n        // Also invalidate dashboard queries that might be affected\r\n        queryClient.invalidateQueries({ queryKey: [\"dashboard\"] });\r\n        queryClient.invalidateQueries({ queryKey: [\"reports\"] });\r\n      }\r\n    },\r\n    onError: (error) => {\r\n      console.error(\"Error creating transaction:\", error);\r\n    },\r\n  });\r\n\r\n  const updateTransactionMutation = useMutation({\r\n    mutationFn: ({ transactionId, updates }) =>\r\n      transactionService.updateTransaction(transactionId, updates),\r\n    onSuccess: (result, variables) => {\r\n      if (result.data) {\r\n        // Update the specific transaction in all lists and cache\r\n        queryClient.setQueryData(\r\n          transactionKeys.detail(variables.transactionId),\r\n          result.data[0]\r\n        );\r\n        queryClient.setQueryData(transactionKeys.lists(), (old) =>\r\n          old?.map((transaction) =>\r\n            transaction.transaction_id === variables.transactionId\r\n              ? result.data[0]\r\n              : transaction\r\n          )\r\n        );\r\n\r\n        // Invalidate dashboard and reports\r\n        queryClient.invalidateQueries({ queryKey: [\"dashboard\"] });\r\n        queryClient.invalidateQueries({ queryKey: [\"reports\"] });\r\n      }\r\n    },\r\n    onError: (error) => {\r\n      console.error(\"Error updating transaction:\", error);\r\n    },\r\n  });\r\n\r\n  const deleteTransactionMutation = useMutation({\r\n    mutationFn: transactionService.deleteTransaction,\r\n    onSuccess: (result, variables) => {\r\n      // Remove the transaction from all caches\r\n      queryClient.removeQueries({\r\n        queryKey: transactionKeys.detail(variables),\r\n      });\r\n      queryClient.setQueryData(transactionKeys.lists(), (old) =>\r\n        old?.filter((transaction) => transaction.transaction_id !== variables)\r\n      );\r\n\r\n      // Invalidate dashboard and reports\r\n      queryClient.invalidateQueries({ queryKey: [\"dashboard\"] });\r\n      queryClient.invalidateQueries({ queryKey: [\"reports\"] });\r\n    },\r\n    onError: (error) => {\r\n      console.error(\"Error deleting transaction:\", error);\r\n    },\r\n  });\r\n\r\n  // Mutation methods\r\n  const createTransaction = (transactionData) => {\r\n    return createTransactionMutation.mutateAsync(transactionData);\r\n  };\r\n\r\n  const updateTransaction = (transactionId, updates) => {\r\n    return updateTransactionMutation.mutateAsync({ transactionId, updates });\r\n  };\r\n\r\n  const deleteTransaction = (transactionId) => {\r\n    return deleteTransactionMutation.mutateAsync(transactionId);\r\n  };\r\n\r\n  const clearError = () => {\r\n    createTransactionMutation.reset();\r\n    updateTransactionMutation.reset();\r\n    deleteTransactionMutation.reset();\r\n  };\r\n\r\n  return {\r\n    // Query methods\r\n    getTransactions,\r\n    getTransactionById,\r\n    getTransactionsByWallet,\r\n    getTransactionsByCategory,\r\n    getTransactionsByDateRange,\r\n\r\n    // Mutation methods\r\n    createTransaction,\r\n    updateTransaction,\r\n    deleteTransaction,\r\n    clearError,\r\n\r\n    // Mutation states\r\n    mutations: {\r\n      createTransaction: createTransactionMutation,\r\n      updateTransaction: updateTransactionMutation,\r\n      deleteTransaction: deleteTransactionMutation,\r\n    },\r\n  };\r\n};\r\n\r\nexport default useTransactions;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 867, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/lyn/Desktop/GC/3rd%20Year/IT%20Elective%202%20Front%20End/FinTrack-IT-Elective-2/src/app/Providers.js"],"sourcesContent":["// app/providers.js\r\n\"use client\";\r\nimport { QueryClientProvider } from \"@tanstack/react-query\";\r\nimport { queryClient } from \"@/lib/react-query\";\r\nimport { UserProvider } from \"@/context/userContext\";\r\nimport { useEffect } from \"react\";\r\nimport { walletKeys } from \"@/hooks/useWallets\";\r\nimport { transactionKeys } from \"@/hooks/useTransactions\";\r\n\r\nexport default function Providers({ children }) {\r\n  useEffect(() => {\r\n    try {\r\n      const initialSession = window.__FINTRACK_INITIAL_SESSION__;\r\n      const initialData = window.__FINTRACK_INITIAL_DATA__;\r\n      const userId = initialSession?.user?.id;\r\n      if (userId && initialData) {\r\n        // Seed wallets\r\n        if (initialData.wallets) {\r\n          queryClient.setQueryData(\r\n            walletKeys.list({ userId }),\r\n            initialData.wallets\r\n          );\r\n        }\r\n\r\n        // Seed transactions\r\n        if (initialData.transactions) {\r\n          queryClient.setQueryData(\r\n            transactionKeys.list({ userId }),\r\n            initialData.transactions\r\n          );\r\n        }\r\n\r\n        // Seed budgets\r\n        if (initialData.budgets) {\r\n          queryClient.setQueryData(\r\n            [\"budgets\", \"list\", { userId }],\r\n            initialData.budgets\r\n          );\r\n        }\r\n\r\n        // Seed goals\r\n        if (initialData.goals) {\r\n          queryClient.setQueryData(\r\n            [\"goals\", \"list\", { userId }],\r\n            initialData.goals\r\n          );\r\n        }\r\n      }\r\n    } catch (err) {\r\n      // ignore\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <UserProvider>{children}</UserProvider>\r\n    </QueryClientProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,mBAAmB;;;;;;AAEnB;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAQe,SAAS,UAAU,EAAE,QAAQ,EAAE;IAC5C,IAAA,kNAAS,EAAC;QACR,IAAI;YACF,MAAM,iBAAiB,OAAO,4BAA4B;YAC1D,MAAM,cAAc,OAAO,yBAAyB;YACpD,MAAM,SAAS,gBAAgB,MAAM;YACrC,IAAI,UAAU,aAAa;gBACzB,eAAe;gBACf,IAAI,YAAY,OAAO,EAAE;oBACvB,2IAAW,CAAC,YAAY,CACtB,wIAAU,CAAC,IAAI,CAAC;wBAAE;oBAAO,IACzB,YAAY,OAAO;gBAEvB;gBAEA,oBAAoB;gBACpB,IAAI,YAAY,YAAY,EAAE;oBAC5B,2IAAW,CAAC,YAAY,CACtB,kJAAe,CAAC,IAAI,CAAC;wBAAE;oBAAO,IAC9B,YAAY,YAAY;gBAE5B;gBAEA,eAAe;gBACf,IAAI,YAAY,OAAO,EAAE;oBACvB,2IAAW,CAAC,YAAY,CACtB;wBAAC;wBAAW;wBAAQ;4BAAE;wBAAO;qBAAE,EAC/B,YAAY,OAAO;gBAEvB;gBAEA,aAAa;gBACb,IAAI,YAAY,KAAK,EAAE;oBACrB,2IAAW,CAAC,YAAY,CACtB;wBAAC;wBAAS;wBAAQ;4BAAE;wBAAO;qBAAE,EAC7B,YAAY,KAAK;gBAErB;YACF;QACF,EAAE,OAAO,KAAK;QACZ,SAAS;QACX;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC,6MAAmB;QAAC,QAAQ,2IAAW;kBACtC,cAAA,8OAAC,6IAAY;sBAAE;;;;;;;;;;;AAGrB","debugId":null}}]
}