module.exports=[68402,a=>{"use strict";a.s(["default",()=>j]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(1834),f=a.i(17069),g=a.i(21972),h=a.i(69750),i=a.i(45470);function j(){let{user:a,loading:j}=(0,f.useUser)(),{getWallets:k,createWallet:l,deleteWallet:m,updateWallet:n}=(0,g.useWallets)(),{getTransactions:o}=(0,h.useTransactions)(),p=(0,d.useRouter)(),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)({}),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(!0),[G,H]=(0,c.useState)(!0),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(null),{data:M,isLoading:N,refetch:O}=k(a?.id),{data:P,isLoading:Q}=o(a?.id,{limit:5}),R=(0,c.useMemo)(()=>M?.data||[],[M?.data]),S=(0,c.useMemo)(()=>P?.data||[],[P?.data]);(0,c.useEffect)(()=>{(async()=>{if(a?.id){F(!0);try{let{data:b,error:c}=await i.supabase.from("goals").select("*").eq("user_id",a.id).order("created_at",{ascending:!1}).limit(3);c?console.error("Error fetching goals:",c):B(b||[])}catch(a){console.error("Error fetching goals:",a)}finally{F(!1)}}})()},[a?.id]),(0,c.useEffect)(()=>{(async()=>{if(a?.id){H(!0);try{let{data:b,error:c}=await i.supabase.from("budgets").select("*").eq("user_id",a.id).order("created_at",{ascending:!1}).limit(1);c?console.error("Error fetching budgets:",c):D(b||[])}catch(a){console.error("Error fetching budgets:",a)}finally{H(!1)}}})()},[a?.id]),(0,c.useEffect)(()=>{(async()=>{if(!a?.id||0===R.length)return;let b={};for(let c of R){let{data:d,error:e}=await i.supabase.from("transactions").select("amount, transaction_type").eq("wallet_id",c.wallet_id).eq("user_id",a.id);if(e){console.error("Error fetching wallet transactions:",e),b[c.wallet_id]=c.balance;continue}let f=parseFloat(c.balance)||0;d&&d.forEach(a=>{"income"===a.transaction_type?f+=parseFloat(a.amount):f-=parseFloat(a.amount)}),b[c.wallet_id]=f}z(b)})()},[a?.id,R,S]),(0,c.useEffect)(()=>{R.length>0&&!u&&v(R[0])},[R,u]);let T=async a=>{try{await l(a),r(!1),O()}catch(a){console.error("Failed to create wallet:",a)}},U=async a=>{try{await n(a.wallet_id,{wallet_name:a.wallet_name,currency:a.currency}),t(!1),x(null),O()}catch(a){console.error("Failed to update wallet:",a)}},V=async a=>{try{await m(a),O(),u?.wallet_id===a&&v(R.find(b=>b.wallet_id!==a)||null),J(!1),L(null)}catch(a){console.error("Failed to delete wallet:",a)}},W=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),X=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Y=({className:a="w-4 h-4"})=>(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),Z=({className:a="w-4 h-4"})=>(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),$=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5.5M7 13l2.5 5.5m0 0L17 21"})}),_=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),aa=({className:a="w-5 h-5"})=>(0,b.jsxs)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2c-4.97 0-9 4.03-9 9 0 4.97 4.03 9 9 9 4.97 0 9-4.03 9-9 0-4.97-4.03-9-9-9zm0 14.5a5.5 5.5 0 110-11 5.5 5.5 0 010 11z"}),(0,b.jsx)("circle",{cx:"12",cy:"12",r:"2.5"})]}),ab=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),ac=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),ad=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"})}),ae=({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),af=({wallet:a,isSelected:c,onSelect:d,index:e})=>{let f=void 0!==y[a.wallet_id]?y[a.wallet_id]:a.balance;return(0,b.jsxs)("div",{onClick:d,className:`rounded-xl p-6 border-2 transition-all duration-300 cursor-pointer transform hover:scale-105 ${c?"border-[#9b177e] bg-[#9b177e]/10 shadow-lg shadow-[#9b177e]/20":"border-white/10 bg-white/5 hover:border-white/20 hover:bg-black/20"}`,style:{animationDelay:`${100*e}ms`},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold",children:a.wallet_name}),(0,b.jsx)("div",{className:`p-2 rounded-full ${c?"bg-[#9b177e]":"bg-black/20"}`,children:(0,b.jsx)(W,{className:"w-5 h-5 text-white"})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-[#FFEAD8]/70 text-sm",children:"Current Balance"}),(0,b.jsxs)("span",{className:"text-[#FFEAD8] font-bold text-lg",children:["₱",parseFloat(f).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-[#FFEAD8]/70 text-sm",children:"Currency"}),(0,b.jsx)("span",{className:"text-[#FFEAD8] font-medium",children:a.currency})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-[#FFEAD8]/70 text-sm",children:"Initial Balance"}),(0,b.jsxs)("span",{className:"text-[#FFEAD8] text-sm",children:["₱",parseFloat(a.balance).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),c&&(0,b.jsx)("div",{className:"mt-4 pt-4 border-t border-white/20",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),x(a),t(!0)},className:"flex-1 flex items-center justify-center gap-2 bg-black/20 hover:bg-white/20 text-[#FFEAD8] text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:[(0,b.jsx)(Y,{className:"w-4 h-4"}),"Edit"]}),(0,b.jsxs)("button",{onClick:b=>{b.stopPropagation(),L(a),J(!0)},className:"flex-1 flex items-center justify-center gap-2 bg-red-500/20 hover:bg-red-500/30 text-red-300 text-sm font-medium py-2 px-3 rounded-lg transition-colors",children:[(0,b.jsx)(Z,{className:"w-4 h-4"}),"Delete"]})]})})]})};return j?(0,b.jsxs)("div",{className:"min-h-screen bg-[#21121e] text-white",children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"text-white",children:"Loading..."})})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-[#21121e] text-white font-sans",children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("main",{className:"px-4 sm:px-8 md:px-16 lg:px-24 xl:px-40 py-10",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex flex-wrap justify-between items-center gap-4 mt-10 mb-8",children:[(0,b.jsxs)("div",{className:"flex min-w-72 flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-[#FFEAD8] text-3xl sm:text-4xl font-black leading-tight tracking-[-0.033em]",children:"My Digital Wallet"}),(0,b.jsx)("p",{className:"text-[#FFEAD8]/70 text-base font-normal leading-normal",children:"A quick overview of your budget, goals, and recent transactions."})]}),(0,b.jsx)("div",{className:"flex flex-1 gap-3 flex-wrap justify-start sm:justify-end",children:(0,b.jsxs)("button",{onClick:()=>r(!0),className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-black/20 text-[#FFEAD8] text-sm font-bold leading-normal tracking-[0.015em] gap-2 hover:bg-white/20 transition-all duration-200 hover:scale-105 active:scale-95",children:[(0,b.jsx)(W,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"truncate",children:"New Wallet"})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[R.map((a,c)=>(0,b.jsx)(af,{wallet:a,isSelected:u?.wallet_id===a.wallet_id,onSelect:()=>v(a),index:c},a.wallet_id)),(0,b.jsxs)("div",{onClick:()=>r(!0),className:"flex flex-col items-center justify-center gap-4 rounded-xl bg-white/5 p-6 border-2 border-dashed border-white/20 hover:border-[#9b177e] hover:bg-black/20 transition-all duration-300 cursor-pointer group hover:scale-105",children:[(0,b.jsx)("div",{className:"flex items-center justify-center size-16 rounded-full bg-[#9b177e]/20 group-hover:bg-[#9b177e]/30 transition-colors",children:(0,b.jsx)(({className:a="w-5 h-5"})=>(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),{className:"w-8 h-8 text-[#9b177e] group-hover:scale-110 transition-transform"})}),(0,b.jsx)("p",{className:"text-[#FFEAD8] font-semibold text-center",children:"Add New Wallet"}),(0,b.jsx)("p",{className:"text-[#FFEAD8]/70 text-sm text-center",children:"Create a new wallet to organize your finances"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsx)(()=>{if(G)return(0,b.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10",children:[(0,b.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold",children:"Budget Summary"}),(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-40 bg-black/20 rounded"}),(0,b.jsx)("div",{className:"h-4 bg-black/20 rounded"}),(0,b.jsx)("div",{className:"h-4 bg-black/20 rounded w-3/4"})]})]});let a=C[0];return a?(0,b.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10 hover:shadow-lg hover:shadow-[#9b177e]/10 transition-all duration-300",children:[(0,b.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold leading-tight tracking-[-0.015em]",children:a.budget_name}),(0,b.jsx)("div",{className:"flex items-center justify-center my-4",children:(0,b.jsxs)("div",{className:"relative size-40",children:[(0,b.jsxs)("svg",{className:"size-full",height:"36",viewBox:"0 0 36 36",width:"36",xmlns:"http://www.w3.org/2000/svg",children:[(0,b.jsx)("circle",{className:"stroke-[#E8988A]/20",cx:"18",cy:"18",fill:"none",r:"16",strokeWidth:"3"}),(0,b.jsx)("circle",{className:"stroke-[#E8988A]",cx:"18",cy:"18",fill:"none",r:"16",strokeDasharray:"62 100",strokeDashoffset:38,strokeLinecap:"round",strokeWidth:"3"})]}),(0,b.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,b.jsxs)("span",{className:"text-2xl font-bold text-[#FFEAD8]",children:[62,"%"]}),(0,b.jsx)("span",{className:"text-sm text-[#FFEAD8]/70",children:"Used"})]})]})}),(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm text-[#FFEAD8]/90",children:[(0,b.jsx)("p",{children:"Budget Amount"}),(0,b.jsxs)("span",{children:["₱",parseFloat(a.amount).toLocaleString()]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm text-[#FFEAD8]/90",children:[(0,b.jsx)("p",{children:"Period"}),(0,b.jsx)("span",{children:a.period})]})]}),(0,b.jsx)("button",{onClick:()=>p.push("./budget"),className:"mt-auto flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#9b177e] text-white text-sm font-bold leading-normal hover:opacity-90 transition-all duration-200 hover:scale-105",children:(0,b.jsx)("span",{className:"truncate",children:"View Budget Details"})})]}):(0,b.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10 hover:shadow-lg hover:shadow-[#9b177e]/10 transition-all duration-300",children:[(0,b.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold leading-tight tracking-[-0.015em]",children:"Budget Summary"}),(0,b.jsxs)("div",{className:"text-center py-8 text-[#FFEAD8]/50",children:[(0,b.jsx)("p",{children:"No budget set"}),(0,b.jsx)("p",{className:"text-sm mt-2",children:"Create a budget to start tracking"})]}),(0,b.jsx)("button",{className:"mt-auto flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#9b177e] text-white text-sm font-bold leading-normal hover:opacity-90 transition-all duration-200 hover:scale-105",children:(0,b.jsx)("span",{className:"truncate",children:"Create Budget"})})]})},{}),(0,b.jsx)(()=>E?(0,b.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10",children:[(0,b.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold",children:"Goal Progress"}),(0,b.jsx)("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-black/20 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-2 bg-black/20 rounded"})]},a))})]}):0===A.length?(0,b.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10 hover:shadow-lg hover:shadow-[#9b177e]/10 transition-all duration-300",children:[(0,b.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold leading-tight tracking-[-0.015em]",children:"Goal Progress"}),(0,b.jsxs)("div",{className:"text-center py-8 text-[#FFEAD8]/50",children:[(0,b.jsx)("p",{children:"No goals set"}),(0,b.jsx)("p",{className:"text-sm mt-2",children:"Create financial goals to track progress"})]}),(0,b.jsx)("button",{className:"mt-auto flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#9b177e] text-white text-sm font-bold leading-normal hover:opacity-90 transition-all duration-200 hover:scale-105",children:(0,b.jsx)("span",{className:"truncate",children:"Create Goal"})})]}):(0,b.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10 hover:shadow-lg hover:shadow-[#9b177e]/10 transition-all duration-300",children:[(0,b.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold leading-tight tracking-[-0.015em]",children:"Goal Progress"}),(0,b.jsx)("div",{className:"flex flex-col gap-6 py-4",children:A.map((a,c)=>{let d=Math.min(Math.round(a.current_amount/a.target_amount*100),100);return(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,b.jsx)("p",{className:"text-[#FFEAD8] font-semibold",children:a.goal_name}),(0,b.jsxs)("p",{className:"text-[#FFEAD8]/70 text-sm",children:[d,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-[#E8988A]/20 rounded-full h-2.5",children:(0,b.jsx)("div",{className:"bg-[#E8988A] h-2.5 rounded-full transition-all duration-500",style:{width:`${d}%`}})}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-[#FFEAD8]/70",children:[(0,b.jsxs)("span",{children:["₱",parseFloat(a.current_amount).toLocaleString()]}),(0,b.jsxs)("span",{children:["₱",parseFloat(a.target_amount).toLocaleString()]})]})]},a.goal_id)})}),(0,b.jsx)("button",{onClick:()=>p.push("./goal"),className:"mt-auto flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#9b177e] text-white text-sm font-bold leading-normal hover:opacity-90 transition-all duration-200 hover:scale-105",children:(0,b.jsx)("span",{className:"truncate",children:"View All Goals"})})]}),{}),(0,b.jsx)(({transactions:a,loading:c})=>c?(0,b.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5 p-6 border border-white/10",children:[(0,b.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold",children:"Recent Transactions"}),(0,b.jsx)("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"size-10 bg-black/20 rounded-full"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-black/20 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-black/20 rounded w-1/2"})]})]},a))})]}):(0,b.jsxs)("div",{className:"flex flex-col gap-4 rounded-xl bg-[#FFEAD8]/5  p-6 border border-white/10 hover:shadow-lg hover:shadow-[#9b177e]/10 transition-all duration-300",children:[(0,b.jsx)("h3",{className:"text-[#FFEAD8] text-xl font-bold leading-tight tracking-[-0.015em]",children:"Recent Transactions"}),(0,b.jsxs)("ul",{className:"flex flex-col gap-4 py-4",children:[a.slice(0,4).map((a,c)=>(0,b.jsxs)("li",{className:"flex items-center justify-between gap-4 p-3 rounded-lg hover:bg-white/5 transition-all duration-200 hover:scale-105",style:{animationDelay:`${100*c}ms`},children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`flex items-center justify-center size-10 rounded-full ${"income"===a.transaction_type?"bg-green-500/20":"bg-[#E8988A]/20"}`,children:(a=>{let c={groceries:$,food:_,transport:aa,entertainment:ad,utilities:ae,salary:ab,default:ac},d=c[a?.toLowerCase()]||c.default;return(0,b.jsx)(d,{className:"w-5 h-5"})})(a.categories?.category_name)}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-[#FFEAD8]",children:a.description||"No description"}),(0,b.jsx)("p",{className:"text-sm text-[#FFEAD8]/70",children:a.categories?.category_name||"Uncategorized"})]})]}),(0,b.jsxs)("p",{className:`font-semibold ${"income"===a.transaction_type?"text-green-400":"text-[#FFEAD8]/90"}`,children:["income"===a.transaction_type?"+":"-","₱",Math.abs(parseFloat(a.amount)).toLocaleString()]})]},a.transaction_id)),0===a.length&&(0,b.jsxs)("li",{className:"text-center py-8 text-[#FFEAD8]/50",children:[(0,b.jsx)(ac,{className:"w-10 h-10 mx-auto mb-2"}),(0,b.jsx)("p",{children:"No transactions yet"})]})]}),(0,b.jsx)("button",{onClick:()=>p.push("./transactions"),className:"mt-auto flex w-full cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#9b177e] text-white text-sm font-bold leading-normal hover:opacity-90 transition-all duration-200 hover:scale-105",children:(0,b.jsx)("span",{className:"truncate",children:"Go to Transaction History"})})]}),{transactions:S,loading:Q})]})]})}),(0,b.jsx)(({isOpen:a,onClose:d,onSubmit:e})=>{let{user:g}=(0,f.useUser)(),[h,i]=(0,c.useState)({wallet_name:"",balance:"0",currency:"PHP"}),j=a=>{let{name:b,value:c}=a.target;i(a=>({...a,[b]:c}))};return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsx)("div",{className:"bg-[#21121e] rounded-xl w-full max-w-md border border-white/10 shadow-2xl transform transition-all duration-300 scale-95 hover:scale-100",onClick:a=>a.stopPropagation(),children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-[#FFEAD8] text-xl font-bold",children:"Add New Wallet"}),(0,b.jsx)("button",{onClick:d,className:"text-[#FFEAD8]/70 hover:text-[#FFEAD8] transition-colors",children:(0,b.jsx)(X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),!g?.id)return void console.error("User not found");e({...h,user_id:g.id,balance:parseFloat(h.balance)}),i({wallet_name:"",balance:"0",currency:"PHP"})},className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-[#FFEAD8] text-sm font-medium mb-2 block",children:"Wallet Name"}),(0,b.jsx)("input",{type:"text",name:"wallet_name",value:h.wallet_name,onChange:j,placeholder:"e.g., Main Wallet, Savings",className:"w-full bg-black/20 border border-white/20 rounded-lg px-4 py-3 text-[#FFEAD8] placeholder-[#FFEAD8]/50 focus:outline-none focus:border-[#9b177e] transition-colors",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-[#FFEAD8] text-sm font-medium mb-2 block",children:"Initial Balance"}),(0,b.jsx)("input",{type:"number",name:"balance",value:h.balance,onChange:j,placeholder:"₱0.00",step:"0.01",min:"0",className:"w-full bg-black/20 border border-white/20 rounded-lg px-4 py-3 text-[#FFEAD8] placeholder-[#FFEAD8]/50 focus:outline-none focus:border-[#9b177e] transition-colors",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-[#FFEAD8] text-sm font-medium mb-2 block",children:"Currency"}),(0,b.jsxs)("select",{name:"currency",value:h.currency,onChange:j,className:"w-full bg-black border border-white/20 rounded-lg px-4 py-3 text-[#FFEAD8] focus:outline-none focus:border-[#9b177e] transition-colors",children:[(0,b.jsx)("option",{value:"PHP",children:"Philippine Peso (₱)"}),(0,b.jsx)("option",{value:"USD",children:"US Dollar ($)"}),(0,b.jsx)("option",{value:"EUR",children:"Euro (€)"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"flex-1 bg-black/20 hover:bg-white/20 text-[#FFEAD8] py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 bg-[#9b177e] hover:bg-[#9b177e]/90 text-white py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"Create Wallet"})]})]})]})})}):null},{isOpen:q,onClose:()=>r(!1),onSubmit:T}),(0,b.jsx)(({isOpen:a,onClose:d,onSubmit:e,wallet:f})=>{let[g,h]=(0,c.useState)({wallet_name:"",currency:"PHP"});(0,c.useEffect)(()=>{f&&h({wallet_name:f.wallet_name,currency:f.currency})},[f]);let i=a=>{let{name:b,value:c}=a.target;h(a=>({...a,[b]:c}))};return a&&f?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsx)("div",{className:"bg-[#21121e] rounded-xl w-full max-w-md border border-white/10 shadow-2xl transform transition-all duration-300 scale-95 hover:scale-100",onClick:a=>a.stopPropagation(),children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-[#FFEAD8] text-xl font-bold",children:"Edit Wallet"}),(0,b.jsx)("button",{onClick:d,className:"text-[#FFEAD8]/70 hover:text-[#FFEAD8] transition-colors cursor-pointer",children:(0,b.jsx)(X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e({wallet_id:f.wallet_id,...g})},className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-[#FFEAD8] text-sm font-medium mb-2 block",children:"Wallet Name"}),(0,b.jsx)("input",{type:"text",name:"wallet_name",value:g.wallet_name,onChange:i,placeholder:"e.g., Main Wallet, Savings",className:"w-full bg-black/20 border border-white/20 rounded-lg px-4 py-3 text-[#FFEAD8] placeholder-[#FFEAD8]/50 focus:outline-none focus:border-[#9b177e] transition-colors",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-[#FFEAD8] text-sm font-medium mb-2 block",children:"Currency"}),(0,b.jsxs)("select",{name:"currency",value:g.currency,onChange:i,className:"w-full bg-black border border-white/20 rounded-lg px-4 py-3 text-[#FFEAD8] focus:outline-none focus:border-[#9b177e] transition-colors",children:[(0,b.jsx)("option",{value:"PHP",children:"Philippine Peso (₱)"}),(0,b.jsx)("option",{value:"USD",children:"US Dollar ($)"}),(0,b.jsx)("option",{value:"EUR",children:"Euro (€)"})]})]}),(0,b.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3",children:(0,b.jsxs)("p",{className:"text-blue-300 text-sm",children:[(0,b.jsx)("strong",{children:"Note:"})," Wallet balance is automatically calculated from your transactions."]})}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"flex-1 bg-black/20 hover:bg-white/20 text-[#FFEAD8] py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"flex-1 bg-[#9b177e] hover:bg-[#9b177e]/90 text-white py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"Update Wallet"})]})]})]})})}):null},{isOpen:s,onClose:()=>{t(!1),x(null)},onSubmit:U,wallet:w}),(0,b.jsx)(({isOpen:a,onClose:c,onConfirm:d,wallet:e})=>a&&e?(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsx)("div",{className:"bg-[#21121e] rounded-xl w-full max-w-md border border-white/10 shadow-2xl transform transition-all duration-300 scale-95 hover:scale-100",onClick:a=>a.stopPropagation(),children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-[#FFEAD8] text-xl font-bold",children:"Delete Wallet"}),(0,b.jsx)("button",{onClick:c,className:"text-[#FFEAD8]/70 hover:text-[#FFEAD8] transition-colors cursor-pointer",children:(0,b.jsx)(X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center",children:(0,b.jsx)(Z,{className:"w-5 h-5 text-red-400"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-[#FFEAD8] font-semibold",children:"Warning"}),(0,b.jsx)("p",{className:"text-[#FFEAD8]/70 text-sm mt-1",children:"This action cannot be undone. All wallet data will be permanently removed."})]})]})}),(0,b.jsxs)("div",{className:"bg-white/5 rounded-lg p-4",children:[(0,b.jsxs)("p",{className:"text-[#FFEAD8] text-center",children:["Are you sure you want to delete"," ",(0,b.jsxs)("strong",{children:['"',e.wallet_name,'"']}),"?"]}),(0,b.jsxs)("p",{className:"text-[#FFEAD8]/70 text-sm text-center mt-2",children:["Current Balance: ₱",parseFloat(y[e.wallet_id]||e.balance).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:c,className:"flex-1 bg-black/20 hover:bg-white/20 text-[#FFEAD8] py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"No, Cancel"}),(0,b.jsx)("button",{onClick:()=>d(e.wallet_id),className:"flex-1 bg-[#9c167f] text-white py-3 rounded-lg font-medium transition-colors cursor-pointer",children:"Yes, Delete"})]})]})]})})}):null,{isOpen:I,onClose:()=>{J(!1),L(null)},onConfirm:V,wallet:K})]})}}];

//# sourceMappingURL=src_app_pages_dashboard_wallet_WalletClient_c7bf4426.js.map