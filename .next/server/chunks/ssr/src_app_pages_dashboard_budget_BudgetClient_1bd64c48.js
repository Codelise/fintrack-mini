module.exports=[47723,a=>{"use strict";a.s(["default",()=>i]);var b=a.i(87924),c=a.i(31626),d=a.i(1834),e=a.i(72131),f=a.i(28371),g=a.i(80203),h=a.i(37927);function i(){let a=(0,h.useQueryClient)(),[i,j]=(0,e.useState)(!1),[k,l]=(0,e.useState)(null),[m,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)({budget_name:"",amount:"",period:"month"}),[q,r]=(0,e.useState)({isOpen:!1,type:"",title:"",message:"",action:""}),{user:s}=(0,g.useAuth)(),{getBudgets:t,createBudget:u,updateBudget:v,deleteBudget:w,mutations:{createBudget:x,updateBudget:y,deleteBudget:z}}=(0,f.useBudget)(),[A,B]=(0,e.useState)({isOpen:!1,budgetId:null,budgetName:""}),{data:C,isLoading:D,error:E}=t(s?.id),F=C?.data||[];(0,e.useEffect)(()=>{n(!0)},[]);let G=(a,b,c,d="")=>{r({isOpen:!0,type:a,title:b,message:c,action:d})},H=(a=null)=>{a?(l(a),p({budget_name:a.budget_name,amount:a.amount?.toString()||"",period:a.period?.replace("/","")||"month"})):(l(null),p({budget_name:"",amount:"",period:"month"})),j(!0)},I=()=>{j(!1),l(null),x.reset(),y.reset()},J=async b=>{b.preventDefault();let c={user_id:s?.id,budget_name:o.budget_name,amount:parseFloat(o.amount)||0,period:`/${o.period}`};try{k?(await v(k.budget_id,c),G("success","Budget Updated","Your budget has been successfully updated.","update")):(await u(c),G("success","Budget Created","Your new budget has been successfully created.","create")),I(),a.invalidateQueries({queryKey:["budgets","list",{userId:s?.id}]})}catch(a){G("error","Operation Failed",k?"Failed to update budget. Please try again.":"Failed to create budget. Please try again.",k?"update":"create")}},K=async(a,b)=>{B({isOpen:!0,budgetId:a,budgetName:b})},L=async()=>{let{budgetId:b}=A;try{await w(b),G("success","Budget Deleted","The budget has been successfully deleted.","delete"),B({isOpen:!1,budgetId:null,budgetName:""}),setTimeout(()=>{window.location.reload()},1200),a.invalidateQueries({queryKey:["budgets","list",{userId:s?.id}]})}catch(a){G("error","Delete Failed","Failed to delete budget. Please try again.","delete"),B({isOpen:!1,budgetId:null,budgetName:""})}};return D?(0,b.jsxs)("div",{className:"relative flex h-auto min-h-screen w-full flex-col bg-[#21121e] overflow-x-hidden",children:[(0,b.jsx)(d.default,{}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"text-white text-lg flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-6 h-6 border-2 border-[#9c167f] border-t-transparent rounded-full animate-spin"}),(0,b.jsx)("span",{className:"text-base sm:text-lg",children:"Loading budgets..."})]})})]}):E?(0,b.jsxs)("div",{className:"relative flex h-auto min-h-screen w-full flex-col bg-[#21121e] overflow-x-hidden",children:[(0,b.jsx)(d.default,{}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"text-red-400 bg-red-400/10 border border-red-400/20 rounded-lg p-4 max-w-md w-full text-center",children:[(0,b.jsx)("div",{className:"text-lg font-semibold mb-2",children:"Error Loading Budgets"}),(0,b.jsx)("div",{className:"text-sm",children:E.message})]})})]}):(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 relative flex h-auto min-h-screen w-full flex-col bg-[#21121e] overflow-x-hidden",children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 absolute top-1/4 left-1/4 w-32 h-32 bg-[#9c167f]/10 rounded-full blur-xl animate-pulse-slow"}),(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 absolute bottom-1/3 right-1/4 w-24 h-24 bg-[#9c167f]/5 rounded-full blur-lg animate-pulse-slow animation-delay-1000"}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 layout-container flex h-full grow flex-col z-10",children:[(0,b.jsx)(d.default,{}),(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 mt-10 px-3 sm:px-6 md:px-8 lg:px-12 xl:px-20 2xl:px-40 flex flex-1 justify-center py-4 sm:py-5",children:(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 layout-content-container flex flex-col w-full  flex-1",children:(0,b.jsxs)("main",{className:"jsx-eafef00766bdaec9 flex-1 mt-4 sm:mt-6 md:mt-8 lg:mt-10",children:[(0,b.jsxs)("div",{className:`jsx-eafef00766bdaec9 flex flex-col sm:flex-row justify-between gap-4 p-3 sm:p-4 items-start sm:items-center transition-all duration-700 ${m?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex flex-col gap-2 min-w-0 flex-1",children:[(0,b.jsx)("h1",{className:"jsx-eafef00766bdaec9 text-white text-2xl sm:text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em] break-words",children:"My Budgets"}),(0,b.jsx)("p",{className:"jsx-eafef00766bdaec9 text-[#c695bb] text-sm sm:text-base font-normal leading-normal",children:F.length>0?`You have ${F.length} active budget${1!==F.length?"s":""}`:"Here are your allocated budgets for the current period."})]}),(0,b.jsxs)("button",{onClick:()=>H(),className:"jsx-eafef00766bdaec9 group relative flex w-full sm:w-auto min-w-[140px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 sm:px-5 bg-[#9c167f] text-white text-sm font-bold leading-normal tracking-[0.015em] transition-all duration-500 hover:bg-[#b51a97] hover:shadow-2xl hover:shadow-[#9c167f]/50 hover:-translate-y-1 active:translate-y-0 mt-2 sm:mt-0",children:[(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 truncate relative z-10",children:"Add New Budget"}),(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})]}),(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 mt-4 sm:mt-6 md:mt-8 flex flex-col gap-3 px-2 sm:px-4",children:0===F.length?(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 text-center py-8 sm:py-12",children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 text-[#c695bb] text-lg mb-3 sm:mb-4",children:"No budgets found"}),(0,b.jsx)("p",{className:"jsx-eafef00766bdaec9 text-[#c695bb] text-sm mb-4 max-w-md mx-auto",children:"Start tracking your expenses by creating your first budget"}),(0,b.jsx)("button",{onClick:()=>H(),className:"jsx-eafef00766bdaec9 px-6 py-2 bg-[#9c167f] text-white rounded-lg hover:bg-[#b51a97] transition-colors text-sm sm:text-base",children:"Create Your First Budget"})]}):F.map((a,c)=>(0,b.jsxs)("div",{style:{transitionDelay:`${100*c}ms`},className:`jsx-eafef00766bdaec9 group flex flex-col sm:flex-row items-stretch sm:items-center gap-3 sm:gap-4 bg-[#321b2d] p-3 sm:p-4 justify-between rounded-xl border border-[#63365a] transition-all duration-500 hover:border-[#9c167f] hover:shadow-xl hover:shadow-[#9c167f]/25 hover:-translate-y-1 ${m?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 text-white flex items-center justify-center rounded-lg bg-[#63365a] shrink-0 size-10 sm:size-12 transition-all duration-300 group-hover:bg-[#9c167f] group-hover:scale-110",children:(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 material-symbols-outlined text-xl sm:text-2xl",children:"account_balance_wallet"})}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex flex-col justify-center flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"jsx-eafef00766bdaec9 text-white text-base sm:text-lg font-medium leading-normal line-clamp-1 break-words",children:a.budget_name}),(0,b.jsx)("p",{className:"jsx-eafef00766bdaec9 text-[#c695bb] text-xs sm:text-sm font-normal leading-normal",children:"Allocated Budget"})]}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 shrink-0 text-right",children:[(0,b.jsxs)("p",{className:"jsx-eafef00766bdaec9 text-white text-base sm:text-lg font-bold leading-normal whitespace-nowrap",children:["PHP"," ",parseFloat(a.amount||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 text-xs sm:text-sm font-normal text-[#c695bb]",children:a.period||"/month"})]})]}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex gap-2 sm:ml-4 w-full sm:w-auto justify-end sm:justify-start",children:[(0,b.jsxs)("button",{onClick:()=>H(a),className:"jsx-eafef00766bdaec9 flex items-center justify-center gap-2 rounded-lg h-9 sm:h-10 px-3 sm:px-4 bg-[#321b2d] text-white text-xs sm:text-sm font-bold leading-normal tracking-[0.015em] transition-all duration-300 hover:bg-[#3d2245] border border-[#63365a] hover:border-[#9c167f] hover:scale-105 flex-1 sm:flex-none min-w-[70px] sm:min-w-[84px]",children:[(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 material-symbols-outlined text-base sm:text-lg",children:"edit"}),(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 truncate",children:"Edit"})]}),(0,b.jsxs)("button",{onClick:()=>K(a.budget_id,a.budget_name),className:"jsx-eafef00766bdaec9 flex w-full sm:w-auto min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#321b2d] text-red-400 gap-2 text-sm font-bold leading-normal tracking-[0.015em] transition-all duration-300 hover:bg-[#3d2245] border border-[#63365a] hover:border-red-500 hover:scale-105",children:[(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 material-symbols-outlined text-lg",children:"delete"}),(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 truncate",children:"Delete"})]})]})]},a.budget_id))})]})})})]}),i&&(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:(0,b.jsxs)("div",{onClick:a=>a.stopPropagation(),className:`jsx-eafef00766bdaec9 bg-[#321b2d] border border-[#63365a] rounded-xl sm:rounded-2xl p-4 sm:p-6 w-full max-w-md transform transition-all duration-500 ${i?"scale-100 opacity-100":"scale-95 opacity-0"}`,children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex items-center justify-between mb-4 sm:mb-6",children:[(0,b.jsx)("h2",{className:"jsx-eafef00766bdaec9 text-white text-lg sm:text-xl font-bold",children:k?"Edit Budget":"Add New Budget"}),(0,b.jsx)("button",{onClick:I,className:"jsx-eafef00766bdaec9 text-[#c695bb] hover:text-white transition-colors duration-200 p-1 rounded-lg hover:bg-white/10",children:(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 material-symbols-outlined text-xl sm:text-2xl",children:"close"})})]}),(0,b.jsxs)("form",{onSubmit:J,className:"jsx-eafef00766bdaec9 space-y-4",children:[(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9",children:[(0,b.jsx)("label",{className:"jsx-eafef00766bdaec9 block text-[#c695bb] text-sm font-medium mb-2",children:"Budget Name"}),(0,b.jsx)("input",{type:"text",value:o.budget_name,onChange:a=>p({...o,budget_name:a.target.value}),placeholder:"Enter budget name",required:!0,className:"jsx-eafef00766bdaec9 w-full bg-[#21121e] border border-[#63365a] rounded-lg px-3 py-2 text-white focus:outline-none focus:border-[#9c167f] transition-colors duration-300 focus:scale-105 focus:shadow-lg focus:shadow-[#9c167f]/20 text-sm sm:text-base"})]}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9",children:[(0,b.jsx)("label",{className:"jsx-eafef00766bdaec9 block text-[#c695bb] text-sm font-medium mb-2",children:"Amount"}),(0,b.jsx)("input",{type:"number",value:o.amount,onChange:a=>p({...o,amount:a.target.value}),placeholder:"0.00",step:"0.01",min:"0",required:!0,className:"jsx-eafef00766bdaec9 w-full bg-[#21121e] border border-[#63365a] rounded-lg px-3 py-2 text-white focus:outline-none focus:border-[#9c167f] transition-colors duration-300 focus:scale-105 focus:shadow-lg focus:shadow-[#9c167f]/20 text-sm sm:text-base"})]}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9",children:[(0,b.jsx)("label",{className:"jsx-eafef00766bdaec9 block text-[#c695bb] text-sm font-medium mb-2",children:"Period"}),(0,b.jsxs)("select",{value:o.period,onChange:a=>p({...o,period:a.target.value}),className:"jsx-eafef00766bdaec9 w-full bg-[#21121e] border border-[#63365a] rounded-lg px-3 py-2 text-white focus:outline-none focus:border-[#9c167f] transition-colors duration-300 focus:scale-105 focus:shadow-lg focus:shadow-[#9c167f]/20 text-sm sm:text-base",children:[(0,b.jsx)("option",{value:"month",className:"jsx-eafef00766bdaec9",children:"Monthly"}),(0,b.jsx)("option",{value:"week",className:"jsx-eafef00766bdaec9",children:"Weekly"}),(0,b.jsx)("option",{value:"year",className:"jsx-eafef00766bdaec9",children:"Yearly"})]})]}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex gap-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:I,className:"jsx-eafef00766bdaec9 flex-1 py-2 sm:py-3 px-4 bg-transparent border border-[#63365a] text-[#c695bb] rounded-lg hover:bg-[#3d2245] hover:text-white transition-all duration-300 hover:scale-105 text-sm sm:text-base",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:x.isPending||y.isPending,className:"jsx-eafef00766bdaec9 group relative flex-1 py-2 sm:py-3 px-4 bg-[#9c167f] text-white rounded-lg hover:bg-[#b51a97] transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 overflow-hidden text-sm sm:text-base",children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),x.isPending||y.isPending?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 truncate",children:"Saving..."})]}):(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 relative z-10 truncate",children:k?"Update Budget":"Create Budget"})]})]})]})]})}),q.isOpen&&(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 fixed inset-0 z-[60] flex items-center justify-center p-3 sm:p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:(0,b.jsx)("div",{onClick:a=>a.stopPropagation(),className:"jsx-eafef00766bdaec9 bg-[#321b2d] border border-[#63365a] rounded-xl sm:rounded-2xl p-4 sm:p-6 w-full max-w-sm transform transition-all duration-500 scale-100 opacity-100",children:(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 text-center",children:[(0,b.jsx)("div",{className:`jsx-eafef00766bdaec9 mx-auto mb-4 flex items-center justify-center w-16 h-16 rounded-full ${"success"===q.type?"bg-[#9c167f]/20 text-[#9c167f]":"bg-red-500/20 text-red-400"}`,children:(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 material-symbols-outlined text-3xl",children:"success"===q.type?"check_circle":"error"})}),(0,b.jsx)("h3",{className:`jsx-eafef00766bdaec9 text-lg sm:text-xl font-bold mb-2 ${"success"===q.type?"text-[#9c167f]":"text-red-400"}`,children:q.title}),(0,b.jsx)("p",{className:"jsx-eafef00766bdaec9 text-[#c695bb] text-sm sm:text-base mb-6",children:q.message}),(0,b.jsx)("button",{onClick:()=>{r({isOpen:!1,type:"",title:"",message:"",action:""})},className:`jsx-eafef00766bdaec9 w-full py-3 px-4 rounded-lg font-semibold transition-all duration-300 hover:scale-105 ${"success"===q.type?"bg-[#9c167f] hover:bg-[#b51a97] text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:"Continue"})]})})}),A.isOpen&&(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 fixed inset-0 z-[70] flex items-center justify-center p-3 sm:p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:(0,b.jsx)("div",{onClick:a=>a.stopPropagation(),className:"jsx-eafef00766bdaec9 bg-[#321b2d] border border-[#63365a] rounded-xl sm:rounded-2xl p-4 sm:p-6 w-full max-w-sm transform transition-all duration-500 scale-100 opacity-100",children:(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 text-center",children:[(0,b.jsx)("div",{className:"jsx-eafef00766bdaec9 mx-auto mb-4 flex items-center justify-center w-16 h-16 rounded-full bg-yellow-500/20 text-yellow-400",children:(0,b.jsx)("span",{className:"jsx-eafef00766bdaec9 material-symbols-outlined text-3xl",children:"warning"})}),(0,b.jsx)("h3",{className:"jsx-eafef00766bdaec9 text-lg sm:text-xl font-bold mb-2 text-yellow-400",children:"Confirm Deletion"}),(0,b.jsx)("p",{className:"jsx-eafef00766bdaec9 text-[#c695bb] text-sm sm:text-base mb-2",children:"Are you sure you want to delete"}),(0,b.jsxs)("p",{className:"jsx-eafef00766bdaec9 text-white font-semibold text-sm sm:text-base mb-6",children:['"',A.budgetName,'"?']}),(0,b.jsx)("p",{className:"jsx-eafef00766bdaec9 text-red-400 text-xs mb-6",children:"This action cannot be undone."}),(0,b.jsxs)("div",{className:"jsx-eafef00766bdaec9 flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{B({isOpen:!1,budgetId:null,budgetName:""})},className:"jsx-eafef00766bdaec9 flex-1 py-3 px-4 bg-transparent border border-[#63365a] text-[#c695bb] rounded-lg hover:bg-[#3d2245] hover:text-white transition-all duration-300 hover:scale-105",children:"Cancel"}),(0,b.jsx)("button",{onClick:L,className:"jsx-eafef00766bdaec9 flex-1 py-3 px-4 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-all duration-300 hover:scale-105 font-semibold",children:"Delete"})]})]})})}),(0,b.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined&display=optional",rel:"stylesheet",className:"jsx-eafef00766bdaec9"}),(0,b.jsx)(c.default,{id:"eafef00766bdaec9",children:'@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes pulse-slow{0%,to{opacity:.1}50%{opacity:.2}}.animate-fade-in-up.jsx-eafef00766bdaec9{opacity:0;animation:.6s ease-out forwards fadeInUp}.animate-fade-in.jsx-eafef00766bdaec9{opacity:0;animation:.4s ease-out forwards fadeIn}.animate-pulse-slow.jsx-eafef00766bdaec9{animation:3s ease-in-out infinite pulse-slow}.animation-delay-1000.jsx-eafef00766bdaec9{animation-delay:1s}.material-symbols-outlined.jsx-eafef00766bdaec9{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24}'})]})}}];

//# sourceMappingURL=src_app_pages_dashboard_budget_BudgetClient_1bd64c48.js.map