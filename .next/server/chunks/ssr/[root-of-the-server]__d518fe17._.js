module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},28371,a=>{"use strict";a.s(["useBudget",()=>m],28371);var b=a.i(33217),c=a.i(70025),d=a.i(37927),e=a.i(45470);async function f(a){let{data:b,error:c}=await e.supabase.from("budgets").select("*").eq("user_id",a);return{data:b,error:c}}async function g(a){let{data:b,error:c}=await e.supabase.from("budgets").insert([a]).select();return{data:b,error:c}}async function h(a){let{data:b,error:c}=await e.supabase.from("budgets").insert(a).select();return{data:b,error:c}}async function i(a,b){let{data:c,error:d}=await e.supabase.from("budgets").update(b).eq("budget_id",a).select();return{data:c,error:d}}async function j(a){let{error:b}=await e.supabase.from("budgets").delete().eq("budget_id",a);return{error:b}}let k=new class{async getBudgets(a){try{return await f(a)}catch(a){return console.error("Error fetching budgets:",a),{data:null,error:a}}}async createBudget(a){try{if(!a.user_id||!a.budget_name||!a.amount)throw Error("User ID, budget_name, and amount are required");if(a.amount<=0)throw Error("Budget amount must be greater than 0");return await g(a)}catch(a){return console.error("Error creating budget:",a),{data:null,error:a}}}async createMultipleBudgets(a){try{for(let b of a){if(!b.user_id||!b.budget_name||!b.amount)throw Error("All budgets must have user_id, budget_name, and amount");if(b.amount<=0)throw Error("All budget amounts must be greater than 0")}return await h(a)}catch(a){return console.error("Error creating multiple budgets:",a),{data:null,error:a}}}async updateBudget(a,b){try{if(console.log("Service: Updating budget",a,b),!a)throw Error("Budget ID is required");let c=await i(a,b);if(console.log("Service: Update result",c),c.error)throw console.error("Service: Update failed:",c.error),c.error;return c}catch(a){throw console.error("Service: Error updating budget:",a),a}}async deleteBudget(a){try{return await j(a)}catch(a){return console.error("Error deleting budget:",a),{error:a}}}},l={all:["budgets"],lists:()=>[...l.all,"list"],list:a=>[...l.lists(),{filters:a}],details:()=>[...l.all,"detail"],detail:a=>[...l.details(),a]},m=()=>{let a=(0,d.useQueryClient)(),e=(0,c.useMutation)({mutationFn:k.createBudget,onSuccess:b=>{b.data&&a.invalidateQueries({queryKey:l.lists()})},onError:a=>{console.error("Error creating budget:",a)}}),f=(0,c.useMutation)({mutationFn:k.createMultipleBudgets,onSuccess:b=>{b.data&&a.invalidateQueries({queryKey:l.lists()})}}),g=(0,c.useMutation)({mutationFn:({budgetId:a,updates:b})=>k.updateBudget(a,b),onSuccess:(b,c)=>{b.data&&a.setQueryData(l.lists(),a=>a?.map(a=>a.id===c.budgetId?b.data[0]:a))}}),h=(0,c.useMutation)({mutationFn:k.deleteBudget,onSuccess:(b,c)=>{a.setQueryData(l.lists(),a=>a?.filter(a=>a.id!==c))}});return{getBudgets:a=>(0,b.useQuery)({queryKey:l.list({userId:a}),queryFn:()=>k.getBudgets(a),enabled:!!a,staleTime:12e4}),createBudget:a=>e.mutateAsync(a),createMultipleBudgets:a=>f.mutateAsync(a),updateBudget:(a,b)=>g.mutateAsync({budgetId:a,updates:b}),deleteBudget:a=>h.mutateAsync(a),clearError:()=>{e.reset(),f.reset(),g.reset(),h.reset()},mutations:{createBudget:e,createMultipleBudgets:f,updateBudget:g,deleteBudget:h}}}},51108,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(50944),f=a.i(80203),g=a.i(28371);function h(){let[a,h]=(0,d.useState)(null),[i,j]=(0,d.useState)(""),[k,l]=(0,d.useState)({}),[m,n]=(0,d.useState)(!1),o=(0,e.useRouter)(),{user:p,markAsOnboarded:q}=(0,f.useAuth)(),{createMultipleBudgets:r,mutations:{createMultipleBudgets:s}}=(0,g.useBudget)(),t=[{name:"Groceries",icon:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),(0,b.jsx)("path",{d:"M3 6h18"}),(0,b.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]})},{name:"Rent",icon:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}),(0,b.jsx)("path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"})]})},{name:"Transportation",icon:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H8.4"}),(0,b.jsx)("path",{d:"M18 8h1a1 1 0 0 1 1 1v1.15"}),(0,b.jsx)("rect",{x:"2",y:"16",width:"6",height:"4",rx:"1"}),(0,b.jsx)("circle",{cx:"7",cy:"16",r:"2"}),(0,b.jsx)("circle",{cx:"18",cy:"16",r:"2"})]})},{name:"Entertainment",icon:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"}),(0,b.jsx)("circle",{cx:"12",cy:"13",r:"1"}),(0,b.jsx)("path",{d:"m15 10-1 4"}),(0,b.jsx)("path",{d:"m9 10 1 4"})]})},{name:"Utilities",icon:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"}),(0,b.jsx)("path",{d:"M9 18h6"}),(0,b.jsx)("path",{d:"M10 22h4"})]})},{name:"Dining Out",icon:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"}),(0,b.jsx)("path",{d:"M7 2v20"}),(0,b.jsx)("path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"})]})},{name:"Healthcare",icon:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M12 8v8"}),(0,b.jsx)("path",{d:"M16 12H8"}),(0,b.jsx)("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"})]})},{name:"Shopping",icon:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),(0,b.jsx)("path",{d:"M3 6h18"}),(0,b.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]})}],u=async()=>{if(!p)return void console.error("No user found");try{let a=Object.entries(k).map(([a,b])=>({user_id:p.id,budget_name:a,amount:parseFloat(b),period:"monthly",created_at:new Date().toISOString()}));if(a.length>0){let b=await r(a);if(b.error)return void console.error("Error saving budgets:",b.error);console.log("Budgets saved successfully:",b.data)}console.log("Setting budgets - marking user as onboarded");let b=await q(p.id);console.log("markAsOnboarded result:",b),b.success?console.log("User successfully marked as onboarded"):console.error("Failed to mark user as onboarded:",b.error),o.push("./setGoal")}catch(a){console.error("Error in budget saving:",a)}},v=async()=>{if(!p)return void console.error("No user found");console.log("Skipping budgets - marking user as onboarded");let a=await q(p.id);console.log("markAsOnboarded result:",a),a.success?console.log("User successfully marked as onboarded"):console.error("Failed to mark user as onboarded:",a.error),o.push("./setGoal")},w=s.isPending;return(0,b.jsxs)("div",{className:"jsx-6adec85a154a6df7 relative flex h-auto min-h-screen w-full flex-col bg-[#171116] overflow-x-hidden",children:[(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 absolute top-1/4 left-1/4 w-32 h-32 bg-[#9b177e]/10 rounded-full blur-xl animate-pulse-slow"}),(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 absolute bottom-1/3 right-1/4 w-24 h-24 bg-[#9b177e]/5 rounded-full blur-lg animate-pulse-slow animation-delay-1000"}),(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 layout-container flex h-full grow flex-col z-10",children:(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 flex flex-1 justify-center px-5 py-50",children:(0,b.jsxs)("div",{className:"jsx-6adec85a154a6df7 flex flex-col w-full max-w-2xl mx-auto px-4",children:[(0,b.jsx)("h3",{className:"jsx-6adec85a154a6df7 text-white tracking-light text-3xl font-bold leading-tight text-center pb-2 animate-fade-in-up",children:"Step 1 of 2"}),(0,b.jsx)("h2",{className:"jsx-6adec85a154a6df7 text-white tracking-light text-2xl font-medium leading-tight text-center pb-8 animate-fade-in-up animation-delay-200",children:"Set Your Monthly Budgets"}),s.error&&(0,b.jsxs)("div",{className:"jsx-6adec85a154a6df7 bg-red-500/20 border border-red-500 text-white px-4 py-3 rounded text-sm mb-4 animate-shake",children:["Error saving budgets: ",s.error.message]}),(0,b.jsx)("p",{className:"jsx-6adec85a154a6df7 text-[#b79eb0] text-center mb-8 animate-fade-in-up animation-delay-400",children:"Set spending limits for different categories (optional)"}),(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:t.map((a,c)=>(0,b.jsxs)("button",{onClick:()=>{var b;h(b=a.name),j(k[b]||""),n(!0)},style:{animationDelay:`${100*c+600}ms`},className:`jsx-6adec85a154a6df7 group relative flex flex-col items-center justify-center p-4 rounded-lg border-2 transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-[#9b177e]/20 ${k[a.name]?"border-[#9b177e] bg-[#9b177e]/20 shadow-lg shadow-[#9b177e]/30":"border-[#382935] bg-[#382935] hover:border-[#9b177e]"} animate-fade-in-up`,children:[(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 absolute inset-0 bg-gradient-to-br from-transparent via-[#9b177e]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg"}),(0,b.jsx)("span",{className:"jsx-6adec85a154a6df7 text-2xl mb-2 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-6",children:a.icon}),(0,b.jsx)("span",{className:"jsx-6adec85a154a6df7 text-white text-sm font-medium text-center relative z-10",children:a.name}),k[a.name]&&(0,b.jsxs)("span",{className:"jsx-6adec85a154a6df7 text-[#9b177e] text-xs mt-1 font-semibold relative z-10 animate-pulse",children:["₱",k[a.name]]}),k[a.name]&&(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 absolute -top-2 -right-2 w-6 h-6 bg-[#9b177e] rounded-full flex items-center justify-center animate-bounce",children:(0,b.jsx)("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"jsx-6adec85a154a6df7 w-3 h-3 text-white",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd",className:"jsx-6adec85a154a6df7"})})})]},a.name))}),(0,b.jsxs)("div",{className:"jsx-6adec85a154a6df7 flex justify-center gap-3 mt-8 px-10",children:[(0,b.jsxs)("button",{onClick:u,disabled:0===Object.keys(k).length||w,className:"jsx-6adec85a154a6df7 group relative flex cursor-pointer items-center justify-center rounded-lg h-12 px-8 bg-[#9b177e] text-white text-base font-bold leading-normal tracking-[0.015em] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-[#9b177e]/40 overflow-hidden",children:[(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),(0,b.jsx)("span",{className:"jsx-6adec85a154a6df7 relative z-10 flex items-center gap-2",children:w?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):"Continue to Goals"})]}),(0,b.jsx)("button",{onClick:v,disabled:w,className:"jsx-6adec85a154a6df7 group flex cursor-pointer items-center justify-center rounded-lg h-12 px-8 bg-[#382935] text-white text-base font-bold leading-normal tracking-[0.015em] disabled:opacity-50 transition-all duration-300 transform hover:scale-105 hover:bg-[#4a3547] border border-transparent hover:border-[#9b177e]/30",children:(0,b.jsx)("span",{className:"jsx-6adec85a154a6df7",children:"Skip Budgeting"})})]}),(0,b.jsx)("p",{className:"jsx-6adec85a154a6df7 text-[#b79eb0] text-center mt-4 text-sm animate-fade-in animation-delay-1200",children:"You can always set budgets later in settings"})]})})}),m&&(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 animate-fade-in",children:(0,b.jsxs)("div",{onClick:a=>a.stopPropagation(),className:"jsx-6adec85a154a6df7 bg-[#261c23] rounded-xl p-6 max-w-md w-full border border-[#523d4c] shadow-2xl shadow-black/50 transform animate-scale-in",children:[(0,b.jsxs)("h3",{className:"jsx-6adec85a154a6df7 text-white text-xl font-bold mb-2",children:["Set Budget for ",a]}),(0,b.jsx)("p",{className:"jsx-6adec85a154a6df7 text-[#b79eb0] mb-4",children:"Enter your monthly budget amount"}),(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 relative mb-6",children:(0,b.jsx)("input",{type:"number",placeholder:"₱0",value:i,onChange:a=>j(a.target.value),autoFocus:!0,className:"jsx-6adec85a154a6df7 form-input flex w-full resize-none overflow-hidden rounded-lg text-white focus:outline-0 focus:ring-0 border border-[#523d4c] bg-[#382935] focus:border-[#9b177e] h-14 placeholder:text-[#b79eb2] p-4 text-lg font-normal leading-normal transition-all duration-300 focus:scale-105 focus:shadow-lg focus:shadow-[#9b177e]/20"})}),(0,b.jsxs)("div",{className:"jsx-6adec85a154a6df7 flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>{a&&i&&l(b=>({...b,[a]:i})),h(null),j(""),n(!1)},disabled:!i,className:"jsx-6adec85a154a6df7 group flex-1 cursor-pointer items-center justify-center rounded-lg h-12 bg-[#9b177e] text-white text-base font-bold leading-normal tracking-[0.015em] disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-[#9b177e]/30 overflow-hidden",children:[(0,b.jsx)("div",{className:"jsx-6adec85a154a6df7 absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),(0,b.jsx)("span",{className:"jsx-6adec85a154a6df7 relative z-10",children:"Save Amount"})]}),(0,b.jsx)("button",{onClick:()=>n(!1),className:"jsx-6adec85a154a6df7 flex-1 cursor-pointer items-center justify-center rounded-lg h-12 bg-[#382935] text-white text-base font-bold leading-normal tracking-[0.015em] transition-all duration-300 transform hover:scale-105 hover:bg-[#4a3547]",children:"Cancel"})]})]})}),(0,b.jsx)(c.default,{id:"6adec85a154a6df7",children:"@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes scaleIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}@keyframes pulse-slow{0%,to{opacity:.1}50%{opacity:.2}}.animate-fade-in-up.jsx-6adec85a154a6df7{opacity:0;animation:.6s ease-out forwards fadeInUp}.animate-fade-in.jsx-6adec85a154a6df7{opacity:0;animation:.4s ease-out forwards fadeIn}.animate-scale-in.jsx-6adec85a154a6df7{animation:.3s ease-out forwards scaleIn}.animate-shake.jsx-6adec85a154a6df7{animation:.5s ease-in-out shake}.animate-pulse-slow.jsx-6adec85a154a6df7{animation:3s ease-in-out infinite pulse-slow}.animation-delay-200.jsx-6adec85a154a6df7{animation-delay:.2s}.animation-delay-400.jsx-6adec85a154a6df7{animation-delay:.4s}.animation-delay-600.jsx-6adec85a154a6df7{animation-delay:.6s}.animation-delay-1200.jsx-6adec85a154a6df7{animation-delay:1.2s}.animation-delay-1000.jsx-6adec85a154a6df7{animation-delay:1s}"})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__d518fe17._.js.map